import{r,V as o}from"./react-core-XCdXHkeW.js";const n=(n,s={})=>{const[l,u]=r.useState({isLoading:!1,error:null,data:null}),{successMessage:i,errorMessage:t,onSuccess:a,onError:c,showSuccessToast:d=!0,showErrorToast:g=!0}=s;return{...l,execute:r.useCallback((async(...r)=>{u((r=>({...r,isLoading:!0,error:null})));try{const e=await n(...r);return u((r=>({...r,isLoading:!1,data:e,error:null}))),null==a||a(e),d&&i&&o.success(i),e}catch(s){const r=s instanceof Error?s:new Error(String(s));if(u((o=>({...o,isLoading:!1,error:r}))),null==c||c(r),g){const n=t||e(r);o.error(n)}return null}}),[n,i,t,a,c,d,g]),reset:r.useCallback((()=>{u({isLoading:!1,error:null,data:null})}),[])}},e=r=>{var o,n,e,s;return"string"==typeof r?r:(null==(n=null==(o=null==r?void 0:r.response)?void 0:o.data)?void 0:n.error)?r.response.data.error:(null==(s=null==(e=null==r?void 0:r.response)?void 0:e.data)?void 0:s.message)?r.response.data.message:(null==r?void 0:r.message)?r.message:"NETWORK_ERROR"===(null==r?void 0:r.code)?"Erro de conex\xe3o. Verifique sua internet.":"Ocorreu um erro inesperado."};export{n as u};
