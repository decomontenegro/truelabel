import{r as e,j as t,o as a,au as s,C as r,n}from"./react-core-XCdXHkeW.js";import"./vendor-BcMaAnXF.js";import"./state-QrSTFgAv.js";import"./react-dom-BslC4xag.js";function l(){const[l,c]=e.useState([]),[i,d]=e.useState([]),[m,o]=e.useState("operational"),[h,u]=e.useState(!0);e.useEffect((()=>{const e=async()=>{try{const e=[{name:"API",status:"operational",responseTime:45,uptime:99.98,lastChecked:new Date},{name:"Web Application",status:"operational",responseTime:120,uptime:99.99,lastChecked:new Date},{name:"Database",status:"operational",responseTime:12,uptime:99.95,lastChecked:new Date},{name:"QR Code Service",status:"operational",responseTime:85,uptime:99.97,lastChecked:new Date},{name:"AI Validation Engine",status:"operational",responseTime:230,uptime:99.9,lastChecked:new Date}];c(e);const t=e.some((e=>"down"===e.status)),a=e.some((e=>"degraded"===e.status));o(t?"down":a?"degraded":"operational"),u(!1)}catch(e){u(!1)}};e();const t=setInterval(e,3e4);return()=>clearInterval(t)}),[]);const p=e=>{switch(e){case"operational":return t.jsx(n,{className:"w-5 h-5 text-green-500","data-testid":"check-icon"});case"degraded":return t.jsx(r,{className:"w-5 h-5 text-yellow-500","data-testid":"alert-icon"});case"down":return t.jsx(s,{className:"w-5 h-5 text-red-500","data-testid":"x-icon"});case"maintenance":return t.jsx(a,{className:"w-5 h-5 text-blue-500","data-testid":"clock-icon"});default:return null}};return h?t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",role:"status",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),t.jsx("p",{className:"mt-4 text-gray-600",children:"Checking system status..."})]})}):t.jsx("div",{className:"min-h-screen bg-gray-50",children:t.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-8",children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Trust Label System Status"}),t.jsx("p",{className:"mt-2 text-gray-600",children:"Current status and incident history"})]}),t.jsx("div",{className:`rounded-lg p-6 mb-8 ${(e=>{switch(e){case"operational":return"text-green-600 bg-green-50";case"degraded":return"text-yellow-600 bg-yellow-50";case"down":return"text-red-600 bg-red-50";case"maintenance":return"text-blue-600 bg-blue-50";default:return""}})(m)}`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[p(m),t.jsx("span",{className:"text-2xl font-semibold",children:(()=>{switch(m){case"operational":return"All Systems Operational";case"degraded":return"Partial System Outage";case"down":return"Major System Outage";default:return"Unknown Status"}})()})]}),t.jsxs("span",{className:"text-sm",children:["Last updated: ",(new Date).toLocaleTimeString()]})]})}),t.jsxs("div",{className:"bg-white rounded-lg shadow mb-8",children:[t.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:t.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Services"})}),t.jsx("div",{className:"divide-y divide-gray-200",children:l.map((e=>t.jsx("div",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[p(e.status),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:e.name}),t.jsxs("p",{className:"text-sm text-gray-500",children:[e.uptime,"% uptime"]})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[e.responseTime,"ms"]}),t.jsx("p",{className:"text-xs text-gray-500",children:"Response time"})]})]})},e.name)))})]}),t.jsxs("div",{className:"bg-white rounded-lg shadow",children:[t.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:t.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Incident History"})}),t.jsx("div",{className:"px-6 py-4",children:0===i.length?t.jsx("p",{className:"text-gray-500",children:"No recent incidents"}):t.jsx("div",{className:"space-y-4",children:i.map((e=>t.jsxs("div",{className:"border-l-4 border-gray-200 pl-4",children:[t.jsx("h3",{className:"font-medium text-gray-900",children:e.title}),t.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[e.status," - ",e.impact," impact"]}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:e.updatedAt.toLocaleString()})]},e.id)))})})]}),t.jsxs("div",{className:"mt-8 text-center text-sm text-gray-500",children:[t.jsxs("p",{children:["Need to report an issue?"," ",t.jsx("a",{href:"/contact",className:"text-blue-600 hover:underline",children:"Contact Support"})]}),t.jsxs("p",{className:"mt-2",children:["Subscribe to updates via"," ",t.jsx("a",{href:"/api/status/subscribe",className:"text-blue-600 hover:underline",children:"RSS"})," or ",t.jsx("a",{href:"/api/status/webhook",className:"text-blue-600 hover:underline",children:"Webhook"})]})]})]})})}export{l as default};
