import{r as e,y as a,j as r,G as t,p as s,E as i,z as l,I as m,V as o}from"./react-core-XCdXHkeW.js";import{b as c,L as n}from"./react-router-G9IXNjIc.js";import{u as d,L as p,a as h}from"./index-D7IercYq.js";import"./vendor-BcMaAnXF.js";import"./state-QrSTFgAv.js";import"./react-dom-BslC4xag.js";import"./utils-BtzqxagS.js";import"./forms-Bk6aQ3xQ.js";const u=()=>{const[u,x]=e.useState(!1),[y,N]=e.useState(!1),b=c(),{setAuth:v}=d(),{register:g,handleSubmit:f,watch:w,formState:{errors:L}}=a({defaultValues:{role:"BRAND"}}),j=w("role");return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Criar nova conta"}),r.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Ou"," ",r.jsx(n,{to:"/auth/login",className:"font-medium text-primary-600 hover:text-primary-500",children:"entrar na sua conta existente"})]})]}),r.jsxs("form",{className:"space-y-6",onSubmit:f((async e=>{var a,r;try{N(!0);const a=await h.register(e);v(a.user,a.token),o.success("Conta criada com sucesso!"),b("/dashboard")}catch(t){o.error((null==(r=null==(a=t.response)?void 0:a.data)?void 0:r.error)||"Erro ao criar conta")}finally{N(!1)}})),children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Tipo de conta"}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("label",{className:"relative",children:[r.jsx("input",{...g("role"),type:"radio",value:"BRAND",className:"sr-only"}),r.jsxs("div",{className:`\n                border-2 rounded-lg p-4 cursor-pointer transition-all\n                ${"BRAND"===j?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-gray-300"}\n              `,children:[r.jsx(t,{className:"h-6 w-6 mx-auto mb-2 text-primary-600"}),r.jsx("div",{className:"text-sm font-medium text-center",children:"Marca CPG"}),r.jsx("div",{className:"text-xs text-gray-500 text-center mt-1",children:"Empresas que fabricam produtos"})]})]}),r.jsxs("label",{className:"relative",children:[r.jsx("input",{...g("role"),type:"radio",value:"LAB",className:"sr-only"}),r.jsxs("div",{className:`\n                border-2 rounded-lg p-4 cursor-pointer transition-all\n                ${"LAB"===j?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-gray-300"}\n              `,children:[r.jsx(s,{className:"h-6 w-6 mx-auto mb-2 text-primary-600"}),r.jsx("div",{className:"text-sm font-medium text-center",children:"Laborat\xf3rio"}),r.jsx("div",{className:"text-xs text-gray-500 text-center mt-1",children:"Laborat\xf3rios de an\xe1lise"})]})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"BRAND"===j?"Nome da Empresa":"Nome do Laborat\xf3rio"}),r.jsxs("div",{className:"mt-1",children:[r.jsx("input",{...g("name",{required:"Nome \xe9 obrigat\xf3rio",minLength:{value:2,message:"Nome deve ter pelo menos 2 caracteres"}}),type:"text",autoComplete:"organization",className:"input",placeholder:"BRAND"===j?"Sua Empresa Ltda":"Laborat\xf3rio de An\xe1lises"}),L.name&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:L.name.message})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email corporativo"}),r.jsxs("div",{className:"mt-1",children:[r.jsx("input",{...g("email",{required:"Email \xe9 obrigat\xf3rio",pattern:{value:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,message:"Email inv\xe1lido"}}),type:"email",autoComplete:"email",className:"input",placeholder:"contato@suaempresa.com"}),L.email&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:L.email.message})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Senha"}),r.jsxs("div",{className:"mt-1 relative",children:[r.jsx("input",{...g("password",{required:"Senha \xe9 obrigat\xf3ria",minLength:{value:6,message:"Senha deve ter pelo menos 6 caracteres"}}),type:u?"text":"password",autoComplete:"new-password",className:"input pr-10",placeholder:"M\xednimo 6 caracteres"}),r.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>x(!u),children:u?r.jsx(i,{className:"h-5 w-5 text-gray-400"}):r.jsx(l,{className:"h-5 w-5 text-gray-400"})})]}),L.password&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:L.password.message})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{id:"terms",name:"terms",type:"checkbox",required:!0,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),r.jsxs("label",{htmlFor:"terms",className:"ml-2 block text-sm text-gray-900",children:["Concordo com os"," ",r.jsx(n,{to:"/terms",className:"text-primary-600 hover:text-primary-500",children:"Termos de Uso"})," ","e"," ",r.jsx(n,{to:"/privacy",className:"text-primary-600 hover:text-primary-500",children:"Pol\xedtica de Privacidade"})]})]}),r.jsx("div",{children:r.jsx("button",{type:"submit",disabled:y,className:"btn-primary w-full flex justify-center items-center",children:y?r.jsx(p,{size:"sm"}):r.jsxs(r.Fragment,{children:[r.jsx(m,{className:"h-4 w-4 mr-2"}),"Criar conta"]})})})]}),r.jsx("div",{className:"mt-6 text-center",children:r.jsxs("p",{className:"text-sm text-gray-600",children:["J\xe1 tem uma conta?"," ",r.jsx(n,{to:"/auth/login",className:"font-medium text-primary-600 hover:text-primary-500",children:"Entrar"})]})})]})};export{u as default};
