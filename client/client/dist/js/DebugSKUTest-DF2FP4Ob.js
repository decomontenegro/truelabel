import{r as t,j as e}from"./react-core-XCdXHkeW.js";import{p as a}from"./productService-CHIPryK1.js";import{b as s}from"./index-D7IercYq.js";import"./vendor-BcMaAnXF.js";import"./state-QrSTFgAv.js";import"./react-dom-BslC4xag.js";import"./react-router-G9IXNjIc.js";import"./utils-BtzqxagS.js";import"./forms-Bk6aQ3xQ.js";function r(){const[r,o]=t.useState([]),[d,i]=t.useState(!1);return e.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Debug SKU Field Test"}),e.jsx("button",{onClick:async()=>{var t,e,r;i(!0),o([]);const d=[];try{const r={name:"Debug SKU Test",brand:"Test Brand",category:"Alimentos",sku:`DEBUG-SKU-${Date.now()}`,description:"Testing SKU field",claims:"Test"};d.push({step:"Product Data to Send",data:r});const o=await a.createProduct(r);d.push({step:"Product Created",data:o.product,hasSKU:!!o.product.sku});const i=await a.getProduct(o.product.id);d.push({step:"Product Fetched",data:i.product,hasSKU:!!i.product.sku});const c=await s.post("/qr/generate",{productId:o.product.id});d.push({step:"QR Code Generated",data:c.data});const n=`${s.defaults.baseURL}/qr/validate/${c.data.qrCode}`,l=await fetch(n),m=await l.json();d.push({step:"Validation Response",url:n,data:m,productHasSKU:!!(null==(t=m.product)?void 0:t.sku)});const p=await s.get(`/products/${o.product.id}`);d.push({step:"Direct Product API",data:p.data,hasSKU:!!(null==(e=p.data.product)?void 0:e.sku)})}catch(c){d.push({step:"Error",error:c.message,details:null==(r=c.response)?void 0:r.data})}o(d),i(!1)},disabled:d,className:"btn-primary mb-6",children:d?"Running Test...":"Run Debug Test"}),e.jsx("div",{className:"space-y-4",children:r.map(((t,a)=>e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:[e.jsx("h3",{className:"font-semibold text-lg mb-2",children:t.step}),e.jsx("pre",{className:"bg-gray-100 p-3 rounded text-xs overflow-x-auto",children:JSON.stringify(t,null,2)})]},a)))})]})}export{r as default};
