import{p as e,a as t}from"./state-QrSTFgAv.js";import{d as a}from"./react-core-XCdXHkeW.js";const l=a()(e(((e,t)=>({currentQRData:null,isGenerating:!1,qrCodes:{},isModalOpen:!1,selectedProductId:null,selectedProductName:null,lastUpdate:Date.now(),setCurrentQRData:t=>{e({currentQRData:t})},setIsGenerating:t=>{e({isGenerating:t})},addQRCode:(t,a)=>{e((e=>({qrCodes:{...e.qrCodes,[t]:a},currentQRData:a,lastUpdate:Date.now()})))},getQRCode:e=>t().qrCodes[e]||null,clearCurrentQR:()=>{e({currentQRData:null})},clearAllQRCodes:()=>{e({qrCodes:{},currentQRData:null})},clearCache:()=>{e({qrCodes:{},currentQRData:null,isModalOpen:!1,selectedProductId:null,selectedProductName:null})},openModal:(a,l)=>{const r=t().qrCodes[a];e({isModalOpen:!0,selectedProductId:a,selectedProductName:l,currentQRData:r||null})},closeModal:()=>{e({isModalOpen:!1,selectedProductId:null,selectedProductName:null})}})),{name:"qr-storage",storage:t((()=>localStorage)),partialize:e=>({qrCodes:e.qrCodes})}));export{l as u};
