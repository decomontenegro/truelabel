import{t,c as n,n as e,g as a,e as o,a as r,j as s,k as i}from"./en-US-CLwwsxf7.js";import{e as u}from"./endOfDay-BG5xk-_P.js";function c(n,e){const a=+t(n)-+t(e);return a<0?-1:a>0?1:a}function f(n,e){const a=t(n,null==e?void 0:e.in);return+u(a,e)===+function(n,e){const a=t(n,null==e?void 0:e.in),o=a.getMonth();return a.setFullYear(a.getFullYear(),o+1,0),a.setHours(23,59,59,999),a}(a,e)}function l(t,n,a){const[o,r,s]=e(null==a?void 0:a.in,t,t,n),i=c(r,s),u=Math.abs(function(t,n,a){const[o,r]=e(null==a?void 0:a.in,t,n);return 12*(o.getFullYear()-r.getFullYear())+(o.getMonth()-r.getMonth())}(r,s));if(u<1)return 0;1===r.getMonth()&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-i*u);let l=c(r,s)===-i;f(o)&&1===u&&1===c(o,s)&&(l=!1);const d=i*(u-+l);return 0===d?0:d}function d(n,e,a){const o=function(n,e){return+t(n)-+t(e)}(n,e)/1e3;return(r=null==a?void 0:a.roundingMethod,t=>{const n=(r?Math[r]:Math.trunc)(t);return 0===n?0:n})(o);var r}function h(t,u){return function(t,n,u){const f=a(),h=(null==u?void 0:u.locale)??f.locale??o,m=c(t,n);if(isNaN(m))throw new RangeError("Invalid time value");const D=Object.assign({},u,{addSuffix:null==u?void 0:u.addSuffix,comparison:m}),[M,g]=e(null==u?void 0:u.in,...m>0?[n,t]:[t,n]),v=d(g,M),X=(r(g)-r(M))/1e3,x=Math.round((v-X)/60);let S;if(x<2)return(null==u?void 0:u.includeSeconds)?v<5?h.formatDistance("lessThanXSeconds",5,D):v<10?h.formatDistance("lessThanXSeconds",10,D):v<20?h.formatDistance("lessThanXSeconds",20,D):v<40?h.formatDistance("halfAMinute",0,D):v<60?h.formatDistance("lessThanXMinutes",1,D):h.formatDistance("xMinutes",1,D):0===x?h.formatDistance("lessThanXMinutes",1,D):h.formatDistance("xMinutes",x,D);if(x<45)return h.formatDistance("xMinutes",x,D);if(x<90)return h.formatDistance("aboutXHours",1,D);if(x<s){const t=Math.round(x/60);return h.formatDistance("aboutXHours",t,D)}if(x<2520)return h.formatDistance("xDays",1,D);if(x<i){const t=Math.round(x/s);return h.formatDistance("xDays",t,D)}if(x<2*i)return S=Math.round(x/i),h.formatDistance("aboutXMonths",S,D);if(S=l(g,M),S<12){const t=Math.round(x/i);return h.formatDistance("xMonths",t,D)}{const t=S%12,n=Math.trunc(S/12);return t<3?h.formatDistance("aboutXYears",n,D):t<9?h.formatDistance("overXYears",n,D):h.formatDistance("almostXYears",n+1,D)}}(t,function(t){return n(t,Date.now())}(t),u)}export{h as f};
