import{j as e,M as s,a}from"./index-DeKtUJAc.js";import{r as t}from"./vendor-BDxjXY-2.js";import{p as r}from"./productService-DtNiporo.js";import"./charts-C38Ohhsz.js";const n=()=>{const[n,o]=t.useState([{name:"Health Check",status:"pending",message:"Aguardando..."},{name:"Login Admin",status:"pending",message:"Aguardando..."},{name:"Listar Produtos",status:"pending",message:"Aguardando..."},{name:"Criar Produto",status:"pending",message:"Aguardando..."}]),[d,c]=t.useState(!1),i=(e,s,a,t)=>{o((r=>r.map(((r,n)=>n===e?{...r,status:s,message:a,data:t}:r))))},l=e=>{switch(e){case"pending":default:return"‚è≥";case"success":return"‚úÖ";case"error":return"‚ùå"}},m=e=>{switch(e){case"pending":return"text-yellow-600";case"success":return"text-green-600";case"error":return"text-red-600";default:return"text-gray-600"}};return e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"üß™ Teste de Conex√£o Frontend ‚Üî Backend"}),e.jsx("p",{className:"text-gray-600",children:"Verificando se o frontend React consegue se comunicar com o backend Node.js"})]}),e.jsx("div",{className:"mb-6",children:e.jsx("button",{onClick:async()=>{var e,t,n,o,d,l;c(!0);try{i(0,"pending","Testando conex√£o...");try{const e=await s.get("/health");i(0,"success","Conex√£o estabelecida",e.data)}catch(m){return i(0,"error",`Erro: ${m.message}`),void c(!1)}i(1,"pending","Fazendo login...");try{const e=await a.login({email:"admin@truelabel.com",password:"admin123"});i(1,"success",`Login realizado: ${e.user.name}`,e)}catch(m){return i(1,"error",`Erro no login: ${(null==(t=null==(e=m.response)?void 0:e.data)?void 0:t.error)||m.message}`),void c(!1)}i(2,"pending","Listando produtos...");try{const e=await r.getProducts();i(2,"success",`${e.data.length} produtos encontrados`,e)}catch(m){i(2,"error",`Erro ao listar produtos: ${(null==(o=null==(n=m.response)?void 0:n.data)?void 0:o.error)||m.message}`)}i(3,"pending","Criando produto de teste...");try{const e={name:`Produto Teste ${Date.now()}`,brand:"Marca Teste",category:"Teste",sku:`TEST${Date.now()}`,claims:"Teste,Funcional"},s=await r.createProduct(e);i(3,"success",`Produto criado: ${s.product.name}`,s)}catch(m){i(3,"error",`Erro ao criar produto: ${(null==(l=null==(d=m.response)?void 0:d.data)?void 0:l.error)||m.message}`)}}catch(m){}finally{c(!1)}},disabled:d,className:`w-full py-3 px-6 rounded-lg font-medium transition-colors ${d?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"} text-white`,children:d?"üîÑ Executando Testes...":"üöÄ Executar Testes"})}),e.jsx("div",{className:"space-y-4",children:n.map(((s,a)=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("h3",{className:"font-medium text-gray-900",children:[l(s.status)," ",s.name]}),e.jsx("span",{className:`text-sm font-medium ${m(s.status)}`,children:s.status.toUpperCase()})]}),e.jsx("p",{className:`text-sm ${m(s.status)}`,children:s.message}),s.data&&"success"===s.status&&e.jsxs("details",{className:"mt-2",children:[e.jsx("summary",{className:"cursor-pointer text-xs text-gray-500 hover:text-gray-700",children:"Ver dados da resposta"}),e.jsx("pre",{className:"mt-2 text-xs bg-gray-100 p-2 rounded overflow-auto max-h-32",children:JSON.stringify(s.data,null,2)})]})]},a)))}),e.jsxs("div",{className:"mt-8 p-4 bg-blue-50 rounded-lg",children:[e.jsx("h3",{className:"font-medium text-blue-900 mb-2",children:"‚ÑπÔ∏è Informa√ß√µes do Sistema"}),e.jsxs("div",{className:"text-sm text-blue-800 space-y-1",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Frontend:"})," React + TypeScript (http://localhost:3000)"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Backend:"})," Node.js + Express (http://localhost:3001)"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Banco:"})," SQLite com Prisma ORM"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Autentica√ß√£o:"})," JWT"]})]})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx("a",{href:"/",className:"text-blue-600 hover:text-blue-800 font-medium",children:"‚Üê Voltar para Dashboard"})})]})})})};export{n as TestConnectionPage,n as default};
