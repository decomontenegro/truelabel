import{c as e,M as s,K as a,j as t,L as r,P as l,N as i,O as c,Q as d,C as n,d as o}from"./index-DVDeh87x.js";import{i as m,e as x,r as h}from"./vendor-BDxjXY-2.js";import{S as b}from"./square-pen-CSblEvl6.js";import{S as j}from"./shield-Ca2y9FOx.js";import{M as p}from"./map-pin-BLaYBl8C.js";import{S as u}from"./smartphone-OJYFou0-.js";import{C as g}from"./circle-x-DtLsNPzF.js";import"./charts-C38Ohhsz.js";
/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N=e("toggle-left",[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]]),y=e("toggle-right",[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]]),f=()=>{const{id:e}=m(),f=x(),[v,w]=h.useState(null),[S,k]=h.useState(!0),[L,C]=h.useState(!1);h.useEffect((()=>{e&&P()}),[e]);const P=async()=>{var t;try{k(!0);const a=await s.getProductById(e);w(a)}catch(r){404===(null==(t=r.response)?void 0:t.status)?(a.error("Produto não encontrado"),f("/dashboard/products")):a.error("Erro ao carregar produto")}finally{k(!1)}},E=e=>new Date(e).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"});return S?t.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:t.jsx(r,{size:"lg"})}):v?t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs("button",{onClick:()=>f("/dashboard/products"),className:"btn btn-outline btn-sm flex items-center",children:[t.jsx(i,{className:"h-4 w-4 mr-2"}),"Voltar"]}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:v.name}),t.jsxs("p",{className:"text-gray-600",children:[v.brand," • ",v.category]})]})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[(e=>{const s={PENDING:{color:"bg-yellow-100 text-yellow-800",icon:o,text:"Pendente"},VALIDATED:{color:"bg-green-100 text-green-800",icon:n,text:"Validado"},REJECTED:{color:"bg-red-100 text-red-800",icon:g,text:"Rejeitado"}}[e],a=s.icon;return t.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${s.color}`,children:[t.jsx(a,{className:"w-4 h-4 mr-1"}),s.text]})})(v.status),t.jsxs("button",{onClick:()=>f(`/dashboard/products/${e}/edit`),className:"btn btn-secondary flex items-center",children:[t.jsx(b,{className:"w-4 h-4 mr-2"}),"Editar"]}),t.jsxs("button",{onClick:()=>f(`/dashboard/products/${e}/seals`),className:"btn btn-secondary flex items-center",children:[t.jsx(j,{className:"w-4 h-4 mr-2"}),"Selos"]}),t.jsxs("button",{onClick:()=>f(`/dashboard/products/${e}/traceability`),className:"btn btn-primary flex items-center",children:[t.jsx(p,{className:"w-4 h-4 mr-2"}),"Rastreabilidade"]})]})]}),t.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[t.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informações do Produto"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"SKU"}),t.jsx("p",{className:"text-gray-900 font-mono",children:v.sku})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categoria"}),t.jsx("p",{className:"text-gray-900",children:v.category})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrição"}),t.jsx("p",{className:"text-gray-900",children:v.description||"Não informado"})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Claims"}),t.jsx("p",{className:"text-gray-900",children:v.claims||"Nenhum claim informado"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Criado em"}),t.jsx("p",{className:"text-gray-900",children:E(v.createdAt)})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Atualizado em"}),t.jsx("p",{className:"text-gray-900",children:E(v.updatedAt)})]})]})]}),t.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[t.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[t.jsx(u,{className:"w-5 h-5 mr-2"}),"Configurações SmartLabel"]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"font-medium text-gray-900",children:"Ativar SmartLabel"}),t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Quando ativado, os QR codes redirecionarão para uma página SmartLabel aprimorada com informações detalhadas do produto."})]}),t.jsx("button",{onClick:async()=>{if(v)try{C(!0);const e=!v.enableSmartLabel,t=await s.updateSmartLabelPreference(v.id,e);w({...v,enableSmartLabel:e,smartLabelUrl:t.product.smartLabelUrl}),a.success(e?"SmartLabel ativado! Os QR codes agora redirecionarão para a página SmartLabel.":"SmartLabel desativado. Os QR codes voltarão à página de validação padrão.")}catch(e){a.error("Erro ao atualizar preferência SmartLabel")}finally{C(!1)}},disabled:L,className:"ml-4 relative inline-flex items-center cursor-pointer",children:L?t.jsx(r,{size:"sm"}):v.enableSmartLabel?t.jsx(y,{className:"w-12 h-12 text-primary-600"}):t.jsx(N,{className:"w-12 h-12 text-gray-400"})})]}),v.enableSmartLabel&&t.jsx("div",{className:"p-4 bg-primary-50 rounded-lg",children:t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx(c,{className:"w-5 h-5 text-primary-600 flex-shrink-0 mt-0.5"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm font-medium text-primary-900 mb-2",children:"SmartLabel está ativo para este produto"}),v.smartLabelUrl&&t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"text-xs text-primary-700",children:"URL SmartLabel:"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsxs("code",{className:"text-xs bg-white px-2 py-1 rounded border border-primary-200 flex-1",children:[window.location.origin,"/smart-label/",v.id]}),t.jsx("button",{onClick:()=>window.open(`/smart-label/${v.id}`,"_blank"),className:"btn btn-sm btn-primary",children:"Visualizar"})]})]})]})]})}),v.qrCode&&t.jsxs("div",{className:"text-sm text-gray-600",children:[t.jsx("p",{className:"font-medium mb-1",children:"QR Code do Produto:"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(d,{className:"w-5 h-5 text-gray-400"}),t.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded text-xs",children:v.qrCode})]})]})]})]}),v.nutritionalInfo&&t.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[t.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informações Nutricionais"}),t.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:t.jsx("pre",{className:"text-sm text-gray-800 whitespace-pre-wrap",children:JSON.stringify(v.nutritionalInfo,null,2)})})]})]}):t.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:t.jsxs("div",{className:"text-center",children:[t.jsx(l,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),t.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Produto não encontrado"}),t.jsx("p",{className:"text-gray-600 mb-4",children:"O produto solicitado não existe ou foi removido."}),t.jsx("button",{onClick:()=>f("/dashboard/products"),className:"btn btn-primary",children:"Voltar para Produtos"})]})})};export{f as default};
