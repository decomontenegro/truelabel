import{j as s}from"./index-BwznawPq.js";import{i as e,r as a}from"./vendor-BDxjXY-2.js";import"./charts-C38Ohhsz.js";const r=()=>{var r,t,i,d;const{qrCode:o}=e(),[n,l]=a.useState("Carregando..."),[c,p]=a.useState(null);return a.useEffect((()=>{(async()=>{if(o)try{l("🔄 Fazendo chamada para API...");const s=await fetch(`http://localhost:3000/api/qr/validate/${o}`);if(l(`📡 Resposta recebida: ${s.status}`),s.ok){const e=await s.json();p(e),l("✅ Dados carregados com sucesso!")}else l(`❌ Erro: ${s.status} ${s.statusText}`)}catch(s){l(`❌ Erro de rede: ${s.message}`)}else l("❌ Nenhum QR Code fornecido")})()}),[o]),s.jsxs("div",{style:{padding:"20px",fontFamily:"Arial, sans-serif"},children:[s.jsx("h1",{children:"🧪 Teste Simples de Validação"}),s.jsxs("div",{style:{marginBottom:"20px"},children:[s.jsx("strong",{children:"QR Code:"})," ",o]}),s.jsxs("div",{style:{marginBottom:"20px"},children:[s.jsx("strong",{children:"Status:"})," ",n]}),c&&s.jsxs("div",{style:{backgroundColor:"#f0f0f0",padding:"15px",borderRadius:"5px"},children:[s.jsx("h3",{children:"📦 Produto:"}),s.jsxs("p",{children:[s.jsx("strong",{children:"Nome:"})," ",null==(r=c.product)?void 0:r.name]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Marca:"})," ",null==(t=c.product)?void 0:t.brand]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Status:"})," ",null==(i=c.product)?void 0:i.status]}),s.jsx("h3",{children:"🔬 Validação:"}),s.jsxs("p",{children:[s.jsx("strong",{children:"É Validado:"})," ",c.isValidated?"✅ Sim":"❌ Não"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Status:"})," ",null==(d=c.validation)?void 0:d.status]}),s.jsxs("details",{style:{marginTop:"10px"},children:[s.jsx("summary",{children:"Ver JSON completo"}),s.jsx("pre",{style:{backgroundColor:"white",padding:"10px",overflow:"auto"},children:JSON.stringify(c,null,2)})]})]}),s.jsxs("div",{style:{marginTop:"20px",fontSize:"12px",color:"#666"},children:[s.jsx("p",{children:"Esta é uma página de teste simplificada para verificar se a API está funcionando."}),s.jsxs("p",{children:["URL testada: http://localhost:3000/api/qr/validate/",o]})]})]})};export{r as default};
