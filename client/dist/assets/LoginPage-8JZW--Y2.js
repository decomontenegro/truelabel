import{c as e,u as s,j as a,L as t,a as r,V as l}from"./index-DVDeh87x.js";import{r as i,e as n,u as m,L as o}from"./vendor-BDxjXY-2.js";import{u as c}from"./index.esm-kuqD8XAN.js";import{E as d}from"./eye-off-CsrpBg8d.js";import{E as x}from"./eye-DSbeFSkK.js";import"./charts-C38Ohhsz.js";
/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u=e("log-in",[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]]),h=()=>{var e,h;const[p,j]=i.useState(!1),[v,b]=i.useState(!1),N=n(),f=m(),{setAuth:g}=s(),{register:y,handleSubmit:w,formState:{errors:k}}=c(),E=(null==(h=null==(e=f.state)?void 0:e.from)?void 0:h.pathname)||"/dashboard";return a.jsxs("div",{className:"space-y-6 animate-fade-in",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-neutral-900",children:"Entrar na sua conta"}),a.jsxs("p",{className:"mt-2 text-sm text-neutral-600",children:["Ou"," ",a.jsx(o,{to:"/auth/register",className:"link font-medium",children:"criar uma nova conta"})]})]}),a.jsxs("form",{className:"space-y-6",onSubmit:w((async e=>{var s,a,t,i;try{b(!0);const s=await r.login(e);if(!s.user||!s.token)return void l.error("Resposta inválida do servidor");g(s.user,s.token),l.success("Login realizado com sucesso!"),N(E,{replace:!0})}catch(n){l.error((null==(a=null==(s=n.response)?void 0:s.data)?void 0:a.error)||(null==(i=null==(t=n.response)?void 0:t.data)?void 0:i.message)||"Erro ao fazer login")}finally{b(!1)}})),children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-neutral-700 transition-colors duration-200 hover:text-neutral-900",children:"Email"}),a.jsxs("div",{className:"mt-1",children:[a.jsx("input",{...y("email",{required:"Email é obrigatório",pattern:{value:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,message:"Email inválido"}}),type:"email",autoComplete:"email",className:"input "+(k.email?"input-error":""),placeholder:"seu@email.com"}),k.email&&a.jsx("p",{className:"mt-1 text-sm text-error-600 animate-slide-down",children:k.email.message})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-neutral-700 transition-colors duration-200 hover:text-neutral-900",children:"Senha"}),a.jsxs("div",{className:"mt-1 relative",children:[a.jsx("input",{...y("password",{required:"Senha é obrigatória",minLength:{value:6,message:"Senha deve ter pelo menos 6 caracteres"}}),type:p?"text":"password",autoComplete:"current-password",className:"input pr-10 "+(k.password?"input-error":""),placeholder:"Sua senha"}),a.jsx("button",{type:"button",className:"icon-btn absolute inset-y-0 right-0 pr-3",onClick:()=>j(!p),title:p?"Ocultar senha":"Mostrar senha",children:p?a.jsx(d,{className:"h-5 w-5 text-neutral-400"}):a.jsx(x,{className:"h-5 w-5 text-neutral-400"})})]}),k.password&&a.jsx("p",{className:"mt-1 text-sm text-error-600 animate-slide-down",children:k.password.message})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"checkbox"}),a.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-neutral-900 cursor-pointer hover:text-neutral-700 transition-colors duration-200",children:"Lembrar de mim"})]}),a.jsx("div",{className:"text-sm",children:a.jsx(o,{to:"/auth/forgot-password",className:"link font-medium",children:"Esqueceu a senha?"})})]}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:v,className:"btn-primary w-full flex justify-center items-center",children:v?a.jsx(t,{size:"sm"}):a.jsxs(a.Fragment,{children:[a.jsx(u,{className:"h-4 w-4 mr-2"}),"Entrar"]})})})]}),a.jsxs("div",{className:"mt-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("div",{className:"w-full border-t border-neutral-300"})}),a.jsx("div",{className:"relative flex justify-center text-sm",children:a.jsx("span",{className:"px-2 bg-white text-neutral-500",children:"Ou"})})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsxs("p",{className:"text-sm text-neutral-600",children:["Primeira vez aqui?"," ",a.jsx(o,{to:"/auth/register",className:"link font-medium",children:"Criar conta"})]})})]}),a.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-md",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:"Contas de demonstração:"}),a.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Admin:"})," admin@truelabel.com / admin123"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Marca:"})," marca@exemplo.com / brand123"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Lab:"})," analista@labexemplo.com / lab123"]})]})]})]})};export{h as default};
