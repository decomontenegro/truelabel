import{c as e,j as s,L as t,P as a,d as r,E as i,C as l,b as c,N as n,M as d,a7 as m,e as x,O as o}from"./index-DeKtUJAc.js";import{r as h,i as p,e as g}from"./vendor-BDxjXY-2.js";import{M as u}from"./map-pin-CYFbGecx.js";import{F as y,T as j,D as b}from"./truck-CZruvluQ.js";import{C as N}from"./calendar-DT4riflN.js";import{C as f}from"./circle-x-DPkhpEGr.js";import{f as v}from"./format-BPTC7RkO.js";import{G as w}from"./globe-wK3cztrM.js";import{S}from"./shield-DaRYoi6m.js";import{L as C}from"./leaf-CTrisBF2.js";import{M as k}from"./mail-DAwxEWDx.js";import{P as I}from"./phone-DatB7wE1.js";import{B as T}from"./building-2-C4k_c8tm.js";import{S as M}from"./star-aqafQ9g9.js";import{C as E,a as D}from"./chevron-up-x18Shq5B.js";import{E as A}from"./external-link-QTxylvwH.js";import{f as R}from"./formatDistanceToNow-BYh9opbE.js";import{p as O}from"./productService-DtNiporo.js";import{u as L}from"./useAsyncAction-D7sA4Oad.js";import{P as $}from"./plus-DeicFfk_.js";import{D as P}from"./download-B9M2FoM6.js";import{U as B}from"./users-CICDFuQM.js";import{S as F}from"./search-C2yUKuVE.js";import"./charts-C38Ohhsz.js";import"./en-US-CLwwsxf7.js";import"./endOfDay-BG5xk-_P.js";
/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=e("anchor",[["path",{d:"M12 22V8",key:"qkxhtm"}],["path",{d:"M5 12H2a10 10 0 0 0 20 0h-3",key:"1hv3nh"}],["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}]]),V=e("box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),G=e("camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),H=e("hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),q=e("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),z=e("link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),_=e("plane",[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]]),K=e("store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]),X=e("thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]),Y=e("tram-front",[["rect",{width:"16",height:"16",x:"4",y:"3",rx:"2",key:"1wxw4b"}],["path",{d:"M4 11h16",key:"mpoxn0"}],["path",{d:"M12 3v8",key:"1h2ygw"}],["path",{d:"m8 19-2 3",key:"13i0xs"}],["path",{d:"m18 22-2-3",key:"1p0ohu"}],["path",{d:"M8 15h.01",key:"a7atzg"}],["path",{d:"M16 15h.01",key:"rnfrdf"}]]),Z=({route:e,height:r="500px",showDetails:i=!0})=>{const l=h.useRef(null),[c,n]=h.useState(null),[d,m]=h.useState(!0),x={SHIP:U,TRUCK:j,RAIL:Y,AIR:_,MIXED:a},o={ORIGIN:u,PROCESSING:y,WAREHOUSE:a,PORT:U,DESTINATION:K};h.useEffect((()=>{const e=setTimeout((()=>{m(!1)}),1e3);return()=>clearTimeout(e)}),[]);const p=e=>{const t=x[e]||a;return s.jsx(t,{className:"w-4 h-4"})},g=e=>{const t=o[e]||u;return s.jsx(t,{className:"w-5 h-5"})},b=e=>e?`${e.toLocaleString()} km`:"N/A",N=e=>{if(!e)return"N/A";const s=Math.floor(e/24),t=e%24;return s>0?`${s}d ${t}h`:`${t}h`};return d?s.jsx("div",{className:"flex items-center justify-center",style:{height:r},children:s.jsx(t,{})}):s.jsxs("div",{className:"supply-chain-map space-y-4",children:[s.jsxs("div",{ref:l,className:"relative bg-gray-100 rounded-lg overflow-hidden shadow-inner",style:{height:r},children:[s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsxs("div",{className:"text-center text-gray-500",children:[s.jsx(u,{className:"w-12 h-12 mx-auto mb-2"}),s.jsx("p",{children:"Interactive map will be displayed here"}),s.jsx("p",{className:"text-sm",children:"Integrate with mapping service (Google Maps, Mapbox, etc.)"})]})}),i&&s.jsxs("div",{className:"absolute top-4 left-4 bg-white rounded-lg shadow-lg p-4 max-w-xs",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Route Overview"}),s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-500",children:"Total Distance:"}),s.jsx("span",{className:"font-medium",children:b(e.totalDistance)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-500",children:"Total Duration:"}),s.jsx("span",{className:"font-medium",children:N(e.totalDuration)})]}),e.carbonFootprint&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-500",children:"Carbon Footprint:"}),s.jsxs("span",{className:"font-medium",children:[e.carbonFootprint.toFixed(2)," kg CO₂"]})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Supply Chain Journey"}),s.jsx("div",{className:"space-y-4",children:e.routes.map(((t,a)=>s.jsxs("div",{className:"relative",children:[a<e.routes.length-1&&s.jsx("div",{className:"absolute left-6 top-12 bottom-0 w-0.5 bg-gray-300"}),s.jsxs("div",{className:"border rounded-lg p-4 cursor-pointer transition-all "+(c===t?"border-blue-500 shadow-md bg-blue-50":"border-gray-200 hover:border-gray-300"),onClick:()=>n(t===c?null:t),children:[s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("div",{className:"p-2 bg-gray-100 rounded-full text-gray-600",children:g(t.from.type)}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900",children:t.from.name}),s.jsx("p",{className:"text-sm text-gray-500",children:t.from.facility||t.from.address})]})]}),s.jsx("p",{className:"text-sm text-gray-500 ml-12",children:new Date(t.startDate).toLocaleDateString()})]}),s.jsxs("div",{className:"flex items-center gap-2 px-4",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-full text-blue-600",children:p(t.transportMode)}),s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{className:"font-medium text-gray-700",children:t.transportMode}),t.carrier&&s.jsx("p",{className:"text-gray-500",children:t.carrier})]})]}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("div",{className:"p-2 bg-gray-100 rounded-full text-gray-600",children:g(t.to.type)}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900",children:t.to.name}),s.jsx("p",{className:"text-sm text-gray-500",children:t.to.facility||t.to.address})]})]}),s.jsx("p",{className:"text-sm text-gray-500 ml-12",children:t.endDate?new Date(t.endDate).toLocaleDateString():"In transit"})]})]}),c===t&&s.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500",children:"Distance"}),s.jsx("p",{className:"font-medium",children:b(t.distance)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500",children:"Duration"}),s.jsx("p",{className:"font-medium",children:N(t.duration)})]}),t.trackingNumber&&s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500",children:"Tracking #"}),s.jsx("p",{className:"font-medium font-mono text-xs",children:t.trackingNumber})]}),t.temperature&&t.temperature.length>0&&s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500",children:"Avg Temperature"}),s.jsxs("p",{className:"font-medium",children:[(t.temperature.reduce(((e,s)=>e+s.temperature),0)/t.temperature.length).toFixed(1),"°",t.temperature[0].unit]})]})]})})]})]},a)))})]})]})},J=({batches:e,onBatchSelect:t,selectedBatchId:c})=>{const[n,d]=h.useState(null),m=e=>{switch(e){case"ACTIVE":return s.jsx(l,{className:"w-5 h-5 text-green-500"});case"RECALLED":return s.jsx(f,{className:"w-5 h-5 text-red-500"});case"EXPIRED":return s.jsx(i,{className:"w-5 h-5 text-yellow-500"});case"CONSUMED":return s.jsx(r,{className:"w-5 h-5 text-gray-500"});default:return s.jsx(a,{className:"w-5 h-5 text-blue-500"})}},x=e=>{switch(e){case"ACTIVE":return"bg-green-50 text-green-800 border-green-200";case"RECALLED":return"bg-red-50 text-red-800 border-red-200";case"EXPIRED":return"bg-yellow-50 text-yellow-800 border-yellow-200";case"CONSUMED":return"bg-gray-50 text-gray-800 border-gray-200";default:return"bg-blue-50 text-blue-800 border-blue-200"}},o=e=>{switch(e){case"PASS":return"text-green-600 bg-green-50";case"FAIL":return"text-red-600 bg-red-50";case"PENDING":return"text-yellow-600 bg-yellow-50";default:return"text-gray-600 bg-gray-50"}};return s.jsxs("div",{className:"space-y-4",children:[e.map((e=>{const a=n===e.id,i=c===e.id,l=!!(h=e.expiryDate)&&new Date(h)<new Date;var h;return s.jsxs("div",{className:`bg-white rounded-lg shadow-sm border-2 transition-all ${i?"border-blue-500":"border-gray-200"} ${"RECALLED"===e.status?"border-red-300":""}`,children:[s.jsx("div",{className:"p-4 cursor-pointer hover:bg-gray-50 transition-colors "+(l?"bg-red-50":""),onClick:()=>(e=>{t&&t(e),d(n===e.id?null:e.id)})(e),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[m(e.status),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[s.jsx(H,{className:"w-4 h-4 text-gray-400"}),e.batchNumber]}),s.jsxs("div",{className:"flex items-center gap-4 mt-1 text-sm text-gray-500",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(N,{className:"w-3 h-3"}),"Produced: ",v(new Date(e.productionDate),"MMM dd, yyyy")]}),e.expiryDate&&s.jsxs("span",{className:"flex items-center gap-1 "+(l?"text-red-600 font-medium":""),children:[s.jsx(r,{className:"w-3 h-3"}),"Expires: ",v(new Date(e.expiryDate),"MMM dd, yyyy")]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Quantity"}),s.jsxs("p",{className:"font-semibold",children:[e.quantity," ",e.unit]})]}),s.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium border ${x(e.status)}`,children:e.status})]})]})}),a&&s.jsxs("div",{className:"px-4 pb-4 space-y-4 border-t border-gray-200",children:[(e.parentBatchId||e.childBatchIds&&e.childBatchIds.length>0)&&s.jsxs("div",{className:"mt-4",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Batch Relationships"}),s.jsxs("div",{className:"space-y-2",children:[e.parentBatchId&&s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(V,{className:"w-4 h-4 text-gray-400"}),s.jsx("span",{className:"text-gray-500",children:"Parent Batch:"}),s.jsx("span",{className:"font-medium text-blue-600",children:e.parentBatchId})]}),e.childBatchIds&&e.childBatchIds.length>0&&s.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[s.jsx(V,{className:"w-4 h-4 text-gray-400 mt-0.5"}),s.jsx("span",{className:"text-gray-500",children:"Child Batches:"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:e.childBatchIds.map((e=>s.jsx("span",{className:"font-medium text-blue-600",children:e},e)))})]})]})]}),e.qualityTests&&e.qualityTests.length>0&&s.jsxs("div",{className:"mt-4",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Quality Tests"}),s.jsx("div",{className:"space-y-2",children:e.qualityTests.map((e=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-gray-900",children:e.testType}),s.jsx("p",{className:"text-sm text-gray-500",children:v(new Date(e.date),"MMM dd, yyyy")})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${o(e.result)}`,children:e.result}),e.certificateUrl&&s.jsx("a",{href:e.certificateUrl,target:"_blank",rel:"noopener noreferrer",className:"block mt-1 text-xs text-blue-600 hover:underline",children:"View Certificate"})]})]},e.id)))})]}),e.events&&e.events.length>0&&s.jsxs("div",{className:"mt-4",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Recent Events"}),s.jsxs("div",{className:"space-y-2",children:[e.events.slice(0,3).map((e=>s.jsxs("div",{className:"flex items-start gap-3 text-sm",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full mt-1.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-gray-900",children:e.title}),s.jsxs("p",{className:"text-gray-500",children:[e.location," • ",v(new Date(e.timestamp),"MMM dd, yyyy")]})]})]},e.id))),e.events.length>3&&s.jsxs("p",{className:"text-sm text-blue-600 ml-5 cursor-pointer hover:underline",children:["View all ",e.events.length," events"]})]})]})]})]},e.id)})),0===e.length&&s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(a,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"}),s.jsx("p",{children:"No batches found"})]})]})},Q=({claims:e,onVerify:t,onAddEvidence:a})=>{const[r,n]=h.useState(null),[d,m]=h.useState(!1),x=e=>{switch(e){case"GPS":return s.jsx(u,{className:"w-4 h-4"});case"BLOCKCHAIN":return s.jsx(z,{className:"w-4 h-4"});case"CERTIFICATE":return s.jsx(c,{className:"w-4 h-4"});case"AUDIT":return s.jsx(S,{className:"w-4 h-4"});default:return s.jsx(i,{className:"w-4 h-4"})}},o=e=>{switch(e){case"DOCUMENT":default:return s.jsx(c,{className:"w-4 h-4"});case"IMAGE":return s.jsx(G,{className:"w-4 h-4"});case"GPS_LOG":return s.jsx(u,{className:"w-4 h-4"});case"BLOCKCHAIN_HASH":return s.jsx(z,{className:"w-4 h-4"})}},p=e=>{switch(e){case"COUNTRY":return"Country of Origin";case"REGION":return"Regional Origin";case"FARM":return"Farm Origin";case"FACILITY":return"Processing Facility";default:return"Origin"}};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Origin Claims & Verification"}),s.jsx("div",{className:"space-y-4",children:e.map((e=>{return s.jsxs("div",{className:"border rounded-lg p-4 transition-all cursor-pointer "+((null==r?void 0:r.id)===e.id?"border-blue-500 bg-blue-50":e.verified?"border-green-200 bg-green-50":"border-gray-200 hover:border-gray-300"),onClick:()=>n(e),children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"p-2 rounded-full "+(e.verified?"bg-green-100":"bg-gray-100"),children:(i=e.claimType,"COUNTRY"===i?s.jsx(w,{className:"w-4 h-4"}):s.jsx(u,{className:"w-4 h-4"}))}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h4",{className:"font-medium text-gray-900",children:p(e.claimType)}),(a=e.verified,a?s.jsx(l,{className:"w-5 h-5 text-green-500"}):s.jsx(f,{className:"w-5 h-5 text-gray-400"}))]}),s.jsx("p",{className:"text-lg font-semibold text-gray-800 mt-1",children:e.location}),e.coordinates&&s.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Coordinates: ",e.coordinates.lat.toFixed(6),", ",e.coordinates.lng.toFixed(6)]}),e.verificationDate&&s.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Verified on ",v(new Date(e.verificationDate),"MMM dd, yyyy")]})]})]}),e.verificationMethod&&s.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-white rounded-full border border-gray-200",children:[x(e.verificationMethod),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:e.verificationMethod})]})]}),e.evidence&&e.evidence.length>0&&s.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[s.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-2",children:"Supporting Evidence"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:e.evidence.map(((e,t)=>s.jsxs("div",{className:"flex items-center gap-2 p-2 bg-white rounded border border-gray-200",children:[o(e.type),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-xs font-medium text-gray-900 truncate",children:e.description||e.type}),s.jsx("p",{className:"text-xs text-gray-500",children:v(new Date(e.timestamp),"MMM dd, yyyy")})]}),e.url&&s.jsx("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800",onClick:e=>e.stopPropagation(),children:s.jsx(c,{className:"w-4 h-4"})})]},t)))})]}),!e.verified&&s.jsxs("div",{className:"mt-4 flex gap-2",children:[s.jsx("button",{onClick:e=>{e.stopPropagation(),m(!0)},className:"px-3 py-1 text-sm font-medium text-blue-600 bg-blue-50 rounded-md hover:bg-blue-100 transition-colors",children:"Add Evidence"}),e.evidence&&e.evidence.length>0&&t&&s.jsx("button",{onClick:s=>{s.stopPropagation(),t(e.id,e.evidence)},className:"px-3 py-1 text-sm font-medium text-green-600 bg-green-50 rounded-md hover:bg-green-100 transition-colors",children:"Verify Claim"})]})]},e.id);var a,i}))}),0===e.length&&s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(u,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"}),s.jsx("p",{children:"No origin claims found"})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Verification Summary"}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:e.length}),s.jsx("p",{className:"text-xs text-gray-500",children:"Total Claims"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:e.filter((e=>e.verified)).length}),s.jsx("p",{className:"text-xs text-gray-500",children:"Verified"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:e.filter((e=>!e.verified)).length}),s.jsx("p",{className:"text-xs text-gray-500",children:"Pending"})]})]})]}),r&&r.coordinates&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Location Map"}),s.jsx("div",{className:"bg-gray-100 rounded-lg h-64 flex items-center justify-center",children:s.jsxs("div",{className:"text-center text-gray-500",children:[s.jsx(u,{className:"w-12 h-12 mx-auto mb-2"}),s.jsxs("p",{children:["Map integration for ",r.location]}),s.jsxs("p",{className:"text-sm mt-1",children:[r.coordinates.lat.toFixed(4),", ",r.coordinates.lng.toFixed(4)]})]})})]})]})},W=({supplier:e,onClick:t,showDetails:a=!0})=>{return s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 transition-all "+(t?"cursor-pointer hover:shadow-md hover:border-gray-300":""),onClick:()=>null==t?void 0:t(e),children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:`p-2 rounded-lg ${(e=>{switch(e){case"FARMER":return"bg-green-100 text-green-700";case"PROCESSOR":return"bg-blue-100 text-blue-700";case"MANUFACTURER":return"bg-purple-100 text-purple-700";case"DISTRIBUTOR":return"bg-orange-100 text-orange-700";case"RETAILER":return"bg-pink-100 text-pink-700";default:return"bg-gray-100 text-gray-700"}})(e.type)}`,children:(r=e.type,"FARMER"===r?s.jsx(C,{className:"w-5 h-5"}):s.jsx(T,{className:"w-5 h-5"}))}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[e.name,e.verified&&s.jsx(l,{className:"w-4 h-4 text-green-500"})]}),s.jsx("p",{className:"text-sm text-gray-500 capitalize",children:e.type.toLowerCase()})]})]}),e.sustainabilityScore&&s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"flex items-center gap-1 text-green-600",children:[s.jsx(C,{className:"w-4 h-4"}),s.jsxs("span",{className:"font-semibold",children:[e.sustainabilityScore,"%"]})]}),s.jsx("p",{className:"text-xs text-gray-500",children:"Sustainability"})]})]}),s.jsxs("div",{className:"flex items-start gap-2 mb-3",children:[s.jsx(u,{className:"w-4 h-4 text-gray-400 mt-0.5"}),s.jsxs("div",{className:"text-sm",children:[s.jsxs("p",{className:"text-gray-700",children:[e.region?`${e.region}, `:"",e.country]}),e.address&&s.jsx("p",{className:"text-gray-500",children:e.address})]})]}),e.rating&&s.jsx("div",{className:"mb-3",children:(e=>{if(!e)return null;const t=[],a=Math.floor(e),r=e%1>=.5;for(let i=0;i<5;i++)i<a?t.push(s.jsx(M,{className:"w-4 h-4 text-yellow-400 fill-current"},i)):i===a&&r?t.push(s.jsx(M,{className:"w-4 h-4 text-yellow-400 fill-current opacity-50"},i)):t.push(s.jsx(M,{className:"w-4 h-4 text-gray-300"},i));return s.jsxs("div",{className:"flex items-center gap-1",children:[t,s.jsxs("span",{className:"text-sm text-gray-600 ml-1",children:["(",e.toFixed(1),")"]})]})})(e.rating)}),a&&e.contact&&s.jsxs("div",{className:"space-y-2 mb-3 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[s.jsx(k,{className:"w-4 h-4"}),s.jsx("span",{children:e.contact.email})]}),s.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[s.jsx(I,{className:"w-4 h-4"}),s.jsx("span",{children:e.contact.phone})]})]}),e.certifications&&e.certifications.length>0&&s.jsxs("div",{className:"mb-3",children:[s.jsx("h4",{className:"text-xs font-medium text-gray-700 mb-2",children:"Certifications"}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.certifications.slice(0,3).map(((e,t)=>s.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-blue-50 text-blue-700 rounded-full text-xs",children:[s.jsx(n,{className:"w-3 h-3"}),s.jsx("span",{children:e.name})]},t))),e.certifications.length>3&&s.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded-full text-xs",children:["+",e.certifications.length-3," more"]})]})]}),s.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-100",children:[s.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[s.jsx(N,{className:"w-3 h-3"}),s.jsxs("span",{children:["Partner since ",v(new Date(e.since),"yyyy")]})]}),e.fairTradeVerified&&s.jsxs("div",{className:"flex items-center gap-1 text-xs text-green-600 font-medium",children:[s.jsx(l,{className:"w-3 h-3"}),s.jsx("span",{children:"Fair Trade"})]})]})]});var r},ee=({events:e,showFilters:t=!0,compactMode:r=!1})=>{const[l,n]=h.useState(new Set),[d,m]=h.useState("ALL"),x={HARVEST:C,PROCESSING:y,PACKAGING:a,SHIPPING:j,STORAGE:a,DISTRIBUTION:j,RETAIL:K,CUSTOM:i},o={HARVEST:"bg-green-100 text-green-700 border-green-200",PROCESSING:"bg-blue-100 text-blue-700 border-blue-200",PACKAGING:"bg-purple-100 text-purple-700 border-purple-200",SHIPPING:"bg-orange-100 text-orange-700 border-orange-200",STORAGE:"bg-gray-100 text-gray-700 border-gray-200",DISTRIBUTION:"bg-yellow-100 text-yellow-700 border-yellow-200",RETAIL:"bg-pink-100 text-pink-700 border-pink-200",CUSTOM:"bg-red-100 text-red-700 border-red-200"},p=e=>{const t=x[e]||i;return s.jsx(t,{className:"w-5 h-5"})},g="ALL"===d?e:e.filter((e=>e.type===d)),f=Array.from(new Set(e.map((e=>e.type))));return s.jsxs("div",{className:"space-y-4",children:[t&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Filter by Event Type"}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs("button",{onClick:()=>m("ALL"),className:"px-3 py-1 rounded-full text-sm font-medium transition-colors "+("ALL"===d?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:["All Events (",e.length,")"]}),f.map((t=>s.jsxs("button",{onClick:()=>m(t),className:"px-3 py-1 rounded-full text-sm font-medium transition-colors flex items-center gap-1 "+(d===t?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:[p(t),s.jsxs("span",{children:[t," (",e.filter((e=>e.type===t)).length,")"]})]},t)))]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Supply Chain Timeline"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute left-6 top-0 bottom-0 w-0.5 bg-gray-200"}),s.jsx("div",{className:"space-y-6",children:g.map(((e,t)=>{const a=l.has(e.id),d=x[e.type]||i;return s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute left-4 w-4 h-4 bg-white border-4 border-blue-500 rounded-full z-10"}),s.jsx("div",{className:"ml-12",children:s.jsxs("div",{className:"bg-white border rounded-lg p-4 cursor-pointer transition-all "+(a?"border-blue-500 shadow-md":"border-gray-200 hover:border-gray-300"),onClick:()=>(e=>{const s=new Set(l);s.has(e)?s.delete(e):s.add(e),n(s)})(e.id),children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:`p-2 rounded-lg ${o[e.type]}`,children:s.jsx(d,{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:e.title}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:e.description}),s.jsxs("div",{className:"flex flex-wrap gap-4 mt-2 text-sm text-gray-500",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(u,{className:"w-3 h-3"}),s.jsx("span",{children:e.location})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(N,{className:"w-3 h-3"}),s.jsx("span",{children:v(new Date(e.timestamp),"MMM dd, yyyy HH:mm")})]}),!r&&s.jsx("span",{className:"text-gray-400",children:R(new Date(e.timestamp),{addSuffix:!0})})]}),(void 0!==e.temperature||void 0!==e.humidity)&&s.jsxs("div",{className:"flex gap-4 mt-2",children:[void 0!==e.temperature&&s.jsxs("div",{className:"flex items-center gap-1 text-sm text-blue-600",children:[s.jsx(X,{className:"w-3 h-3"}),s.jsxs("span",{children:[e.temperature,"°C"]})]}),void 0!==e.humidity&&s.jsxs("div",{className:"flex items-center gap-1 text-sm text-cyan-600",children:[s.jsx(b,{className:"w-3 h-3"}),s.jsxs("span",{children:[e.humidity,"%"]})]})]})]})]}),s.jsx("button",{className:"text-gray-400 hover:text-gray-600",children:a?s.jsx(E,{className:"w-5 h-5"}):s.jsx(D,{className:"w-5 h-5"})})]}),a&&s.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 space-y-4",children:[e.documents&&e.documents.length>0&&s.jsxs("div",{children:[s.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-2",children:"Documents"}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:e.documents.map(((e,t)=>s.jsxs("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 p-2 bg-gray-50 rounded hover:bg-gray-100 transition-colors",onClick:e=>e.stopPropagation(),children:[s.jsx(c,{className:"w-4 h-4 text-gray-500"}),s.jsx("span",{className:"text-sm text-gray-700 truncate",children:e.name}),s.jsx(A,{className:"w-3 h-3 text-gray-400 ml-auto"})]},t)))})]}),e.images&&e.images.length>0&&s.jsxs("div",{children:[s.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-2",children:"Images"}),s.jsx("div",{className:"grid grid-cols-3 gap-2",children:e.images.map(((e,t)=>s.jsxs("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"relative aspect-square bg-gray-100 rounded overflow-hidden hover:opacity-90 transition-opacity",onClick:e=>e.stopPropagation(),children:[s.jsx("img",{src:e,alt:`Event image ${t+1}`,className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-0 hover:bg-opacity-20 transition-all",children:s.jsx(q,{className:"w-6 h-6 text-white opacity-0 hover:opacity-100"})})]},t)))})]}),e.certifications&&e.certifications.length>0&&s.jsxs("div",{children:[s.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-2",children:"Certifications"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:e.certifications.map(((e,t)=>s.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-green-50 text-green-700 rounded-full text-xs",children:[s.jsx(S,{className:"w-3 h-3"}),s.jsx("span",{children:e})]},t)))})]}),e.verificationHash&&s.jsx("div",{className:"bg-blue-50 rounded p-3",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(S,{className:"w-4 h-4 text-blue-600 mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-blue-900",children:"Verified Event"}),s.jsxs("p",{className:"text-xs text-blue-700 font-mono mt-1 break-all",children:["Hash: ",e.verificationHash]})]})]})}),e.metadata&&Object.keys(e.metadata).length>0&&s.jsxs("div",{children:[s.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-2",children:"Additional Information"}),s.jsx("div",{className:"space-y-1",children:Object.entries(e.metadata).map((([e,t])=>s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsxs("span",{className:"text-gray-500",children:[e,":"]}),s.jsx("span",{className:"text-gray-700 font-medium",children:String(t)})]},e)))})]})]})]})})]},e.id)}))})]}),0===g.length&&s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(N,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"}),s.jsx("p",{children:"No events found"})]})]})]})};const se=new class{async getSupplyChainEvents(e){return(await d.get(`/traceability/products/${e}/events`)).data}async createSupplyChainEvent(e){return(await d.post("/traceability/events",e)).data}async updateSupplyChainEvent(e,s){return(await d.put(`/traceability/events/${e}`,s)).data}async deleteSupplyChainEvent(e){await d.delete(`/traceability/events/${e}`)}async getBatchInfo(e){return(await d.get(`/traceability/batches/${e}`)).data}async createBatch(e){return(await d.post("/traceability/batches",e)).data}async updateBatch(e,s){return(await d.put(`/traceability/batches/${e}`,s)).data}async getBatchesByProduct(e){return(await d.get(`/traceability/products/${e}/batches`)).data}async splitBatch(e,s){return(await d.post(`/traceability/batches/${e}/split`,{quantities:s})).data}async mergeBatches(e){return(await d.post("/traceability/batches/merge",{batchIds:e})).data}async getSuppliers(e){const s=e?`/traceability/products/${e}/suppliers`:"/traceability/suppliers";return(await d.get(s)).data}async getSupplier(e){return(await d.get(`/traceability/suppliers/${e}`)).data}async createSupplier(e){return(await d.post("/traceability/suppliers",e)).data}async updateSupplier(e,s){return(await d.put(`/traceability/suppliers/${e}`,s)).data}async linkSupplierToProduct(e,s,t){await d.post(`/traceability/products/${e}/suppliers/${s}`,{role:t})}async unlinkSupplierFromProduct(e,s){await d.delete(`/traceability/products/${e}/suppliers/${s}`)}async getOriginClaims(e){return(await d.get(`/traceability/products/${e}/origins`)).data}async verifyOrigin(e,s){return(await d.post(`/traceability/origins/${e}/verify`,{evidence:s})).data}async createOriginClaim(e){return(await d.post("/traceability/origins",e)).data}async getSupplyChainRoute(e,s){const t=s?{batchId:s}:{};return(await d.get(`/traceability/products/${e}/route`,{params:t})).data}async calculateCarbonFootprint(e){return(await d.get(`/traceability/products/${e}/carbon-footprint`)).data}async generateTraceabilityReport(e,s){return(await d.post(`/traceability/products/${e}/reports`,{reportType:s})).data}async getTraceabilityReports(e){return(await d.get(`/traceability/products/${e}/reports`)).data}async downloadTraceabilityReport(e){return(await d.get(`/traceability/reports/${e}/download`,{responseType:"blob"})).data}async searchSupplyChainEvents(e){return(await d.get("/traceability/events/search",{params:e})).data}async getSupplyChainSummary(e){return(await d.get(`/traceability/products/${e}/summary`)).data}async getTraceabilityAnalytics(e){return(await d.get(`/traceability/products/${e}/analytics`)).data}async uploadTraceabilityDocument(e,s,t){const a=new FormData;a.append("document",t),a.append("productId",e),a.append("eventId",s);return(await d.post("/traceability/documents/upload",a,{headers:{"Content-Type":"multipart/form-data"}})).data.url}async verifyDocument(e){return(await d.get(`/traceability/documents/${e}/verify`)).data}async recordOnBlockchain(e){return(await d.post(`/traceability/events/${e}/blockchain`)).data}async verifyBlockchainRecord(e){return(await d.get(`/traceability/events/${e}/blockchain/verify`)).data}},te=()=>{const{productId:e}=p();g();const[r,i]=h.useState("timeline"),[l,c]=h.useState(null),[n,d]=h.useState([]),[y,j]=h.useState([]),[b,f]=h.useState([]),[v,S]=h.useState([]),[C,k]=h.useState(null),[I,T]=h.useState(null),[M,E]=h.useState(null),[D,A]=h.useState(""),[R,U]=h.useState(!1),{execute:V,loading:G}=L((async()=>{if(!e)return;const s=await O.getProduct(e);c(s);const[t,a,r,i,l,n]=await Promise.all([se.getSupplyChainEvents(e),se.getBatchesByProduct(e),se.getSuppliers(e),se.getOriginClaims(e),se.getSupplyChainRoute(e),se.getSupplyChainSummary(e)]);d(t),j(a),f(r),S(i),k(l),T(n)}));h.useEffect((()=>{V()}),[e]);const H=e=>{};return G?s.jsx(m,{children:s.jsx("div",{className:"flex items-center justify-center h-96",children:s.jsx(t,{})})}):l?s.jsx(m,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Supply Chain Traceability"}),s.jsxs("div",{className:"mt-2 flex items-center gap-4 text-sm text-gray-600",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(a,{className:"w-4 h-4"}),l.name]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"font-medium",children:"SKU:"})," ",l.sku]}),l.batchNumber&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"font-medium",children:"Batch:"})," ",l.batchNumber]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>U(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx($,{className:"w-4 h-4"}),"Add Event"]}),s.jsxs("button",{onClick:async()=>{try{const s=await se.generateTraceabilityReport(e,"FULL"),t=await se.downloadTraceabilityReport(s.id),a=window.URL.createObjectURL(t),r=document.createElement("a");r.href=a,r.download=`traceability-report-${null==l?void 0:l.sku}-${(new Date).toISOString().split("T")[0]}.pdf`,document.body.appendChild(r),r.click(),window.URL.revokeObjectURL(a),document.body.removeChild(r),o.success("Report downloaded successfully")}catch(s){o.error("Failed to generate report")}},className:"flex items-center gap-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:[s.jsx(P,{className:"w-4 h-4"}),"Export Report"]})]})]}),I&&s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-6",children:[s.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Total Events"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:I.totalEvents})]}),s.jsx(N,{className:"w-8 h-8 text-gray-400"})]})}),s.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Locations"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:I.uniqueLocations})]}),s.jsx(u,{className:"w-8 h-8 text-gray-400"})]})}),s.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Compliance"}),s.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[I.complianceScore,"%"]})]}),s.jsx(x,{className:"w-8 h-8 text-gray-400"})]})}),s.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Distance"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:I.totalDistance?`${(I.totalDistance/1e3).toFixed(0)}k km`:"N/A"})]}),s.jsx(w,{className:"w-8 h-8 text-gray-400"})]})})]})]}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-1",children:s.jsx("nav",{className:"flex space-x-1",children:[{id:"timeline",label:"Timeline",icon:N},{id:"map",label:"Supply Chain Map",icon:u},{id:"batches",label:"Batch Tracking",icon:a},{id:"suppliers",label:"Suppliers",icon:B},{id:"origins",label:"Origin Verification",icon:w}].map((e=>{const t=e.icon;return s.jsxs("button",{onClick:()=>i(e.id),className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors "+(r===e.id?"bg-blue-50 text-blue-600":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:[s.jsx(t,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:e.label})]},e.id)}))})}),s.jsxs("div",{className:"space-y-4",children:["timeline"===r&&s.jsx(ee,{events:M?n.filter((e=>{var s;return(null==(s=e.metadata)?void 0:s.batchId)===M.id})):n,showFilters:!0}),"map"===r&&C&&s.jsx(Z,{route:C,height:"600px",showDetails:!0}),"batches"===r&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Batch Tracking"}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("div",{className:"relative",children:[s.jsx(F,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search batches...",value:D,onChange:e=>A(e.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})})]}),s.jsx(J,{batches:y.filter((e=>""===D||e.batchNumber.toLowerCase().includes(D.toLowerCase()))),onBatchSelect:e=>{E(e),i("timeline")},selectedBatchId:null==M?void 0:M.id})]}),"suppliers"===r&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Supply Chain Partners"}),s.jsxs("span",{className:"text-sm text-gray-500",children:[b.length," suppliers"]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:b.map((e=>s.jsx(W,{supplier:e,onClick:H},e.id)))})]}),"origins"===r&&s.jsx(Q,{claims:v,onVerify:async(e,s)=>{try{await se.verifyOrigin(e,s),o.success("Origin claim verified"),V()}catch(t){o.error("Failed to verify origin")}}})]})]})}):s.jsx(m,{children:s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-500",children:"Product not found"})})})};export{te as default};
