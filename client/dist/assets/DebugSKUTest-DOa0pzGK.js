import{j as t,M as s}from"./index-DeKtUJAc.js";import{r as a}from"./vendor-BDxjXY-2.js";import{p as e}from"./productService-DtNiporo.js";import"./charts-C38Ohhsz.js";function d(){const[d,r]=a.useState([]),[o,c]=a.useState(!1);return t.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[t.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Debug SKU Field Test"}),t.jsx("button",{onClick:async()=>{var t,a,d;c(!0),r([]);const o=[];try{const d={name:"Debug SKU Test",brand:"Test Brand",category:"Alimentos",sku:`DEBUG-SKU-${Date.now()}`,description:"Testing SKU field",claims:"Test"};o.push({step:"Product Data to Send",data:d});const r=await e.createProduct(d);o.push({step:"Product Created",data:r.product,hasSKU:!!r.product.sku});const c=await e.getProduct(r.product.id);o.push({step:"Product Fetched",data:c.product,hasSKU:!!c.product.sku});const u=await s.post("/qr/generate",{productId:r.product.id});o.push({step:"QR Code Generated",data:u.data});const n=`${s.defaults.baseURL}/qr/validate/${u.data.qrCode}`,i=await fetch(n),p=await i.json();o.push({step:"Validation Response",url:n,data:p,productHasSKU:!!(null==(t=p.product)?void 0:t.sku)});const l=await s.get(`/products/${r.product.id}`);o.push({step:"Direct Product API",data:l.data,hasSKU:!!(null==(a=l.data.product)?void 0:a.sku)})}catch(u){o.push({step:"Error",error:u.message,details:null==(d=u.response)?void 0:d.data})}r(o),c(!1)},disabled:o,className:"btn-primary mb-6",children:o?"Running Test...":"Run Debug Test"}),t.jsx("div",{className:"space-y-4",children:d.map(((s,a)=>t.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:[t.jsx("h3",{className:"font-semibold text-lg mb-2",children:s.step}),t.jsx("pre",{className:"bg-gray-100 p-3 rounded text-xs overflow-x-auto",children:JSON.stringify(s,null,2)})]},a)))})]})}export{d as default};
