import{c as e,j as s,C as a,N as t,f as r,E as i,b as l,P as n,M as c,L as d,X as o}from"./index-DeKtUJAc.js";import{L as m,r as x,R as h,i as p,e as u}from"./vendor-BDxjXY-2.js";import{S as g}from"./shield-DaRYoi6m.js";import{S as j}from"./share-2-eyNSeTcJ.js";import{B as b}from"./building-D2fMeC0n.js";import{C as y}from"./calendar-DT4riflN.js";import{I as f}from"./info-Dc3wMliZ.js";import{T as N}from"./trending-up-B5q99a19.js";import{S as v}from"./search-C2yUKuVE.js";import{T as w}from"./triangle-alert-CiFJGrB3.js";import{L as k}from"./leaf-CTrisBF2.js";import{C,a as I}from"./chevron-up-x18Shq5B.js";import{G as S}from"./globe-wK3cztrM.js";import{D as L}from"./download-B9M2FoM6.js";import{F as D,D as P,T as $}from"./truck-CZruvluQ.js";import{T as M}from"./trending-down-BKnBlW3G.js";import{M as A}from"./map-pin-CYFbGecx.js";import{P as z}from"./phone-DatB7wE1.js";import{M as V}from"./mail-DAwxEWDx.js";import"./charts-C38Ohhsz.js";
/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=e("calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]),O=e("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),T=e("facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]),U=e("instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]),q=e("linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]),R=e("printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);function F({product:e,onShare:i,onPrint:l}){const n="VALIDATED"===e.status,c=!!e.imageUrl;return s.jsxs("div",{className:"bg-gradient-to-br from-primary-600 to-primary-700 text-white",children:[s.jsx("div",{className:"border-b border-white/10",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex items-center justify-between h-16",children:[s.jsxs(m,{to:"/",className:"flex items-center space-x-3 text-white/80 hover:text-white transition-colors",children:[s.jsx(O,{className:"h-5 w-5"}),s.jsx(g,{className:"h-6 w-6"}),s.jsx("span",{className:"font-semibold",children:"True Label"})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("button",{onClick:i,className:"flex items-center space-x-2 px-4 py-2 bg-white/10 hover:bg-white/20 rounded-lg transition-colors","aria-label":"Compartilhar produto",children:[s.jsx(j,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Compartilhar"})]}),s.jsxs("button",{onClick:l,className:"flex items-center space-x-2 px-4 py-2 bg-white/10 hover:bg-white/20 rounded-lg transition-colors","aria-label":"Imprimir informaÃ§Ãµes",children:[s.jsx(R,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Imprimir"})]})]})]})})}),s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 lg:py-12",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 items-start",children:[s.jsx("div",{className:"lg:col-span-1",children:s.jsxs("div",{className:"relative mx-auto lg:mx-0 w-64 h-64 lg:w-full lg:h-80",children:[c?s.jsx("img",{src:e.imageUrl,alt:e.name,className:"w-full h-full object-cover rounded-xl shadow-2xl"}):s.jsx("div",{className:"w-full h-full bg-white/10 rounded-xl shadow-2xl flex items-center justify-center",children:s.jsx("div",{className:"text-white/50",children:s.jsx("svg",{className:"w-24 h-24",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M21 16.5c0 .38-.21.71-.53.88l-7.9 4.44c-.16.12-.36.18-.57.18s-.41-.06-.57-.18l-7.9-4.44A.991.991 0 013 16.5V7.5c0-.38.21-.71.53-.88l7.9-4.44c.16-.12.36-.18.57-.18s.41.06.57.18l7.9 4.44c.32.17.53.5.53.88v9zM12 4.15L6.04 7.5 12 10.85 17.96 7.5 12 4.15zM5 15.91l6 3.38v-6.71L5 9.21v6.7zm14 0v-6.7l-6 3.37v6.71l6-3.38z"})})})}),n&&s.jsx("div",{className:"absolute -top-2 -right-2 bg-green-500 text-white p-3 rounded-full shadow-lg",children:s.jsx(a,{className:"h-6 w-6"})})]})}),s.jsx("div",{className:"lg:col-span-2 text-center lg:text-left",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-center lg:justify-start space-x-2",children:[s.jsx(b,{className:"h-5 w-5 opacity-70"}),s.jsx("span",{className:"text-xl opacity-90",children:e.brand})]}),s.jsx("h1",{className:"text-3xl lg:text-5xl font-bold",children:e.name}),s.jsxs("div",{className:"flex flex-wrap items-center justify-center lg:justify-start gap-4 text-sm",children:[s.jsx("span",{className:"px-3 py-1 bg-white/20 rounded-full",children:e.category}),s.jsxs("span",{className:"opacity-70",children:["SKU: ",e.sku]})]}),e.description&&s.jsx("p",{className:"text-lg opacity-90 max-w-2xl",children:e.description}),s.jsxs("div",{className:"flex flex-wrap items-center justify-center lg:justify-start gap-6 pt-4",children:[n?s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(a,{className:"h-6 w-6 text-green-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:"Produto Validado"}),s.jsx("p",{className:"text-sm opacity-80",children:"Por laboratÃ³rio acreditado"})]})]}):s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(g,{className:"h-6 w-6 text-yellow-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:"ValidaÃ§Ã£o Pendente"}),s.jsx("p",{className:"text-sm opacity-80",children:"Em processo de verificaÃ§Ã£o"})]})]}),e.certifications&&e.certifications.length>0&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(t,{className:"h-6 w-6 text-blue-400"}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-semibold",children:[e.certifications.length," CertificaÃ§Ãµes"]}),s.jsx("p",{className:"text-sm opacity-80",children:"Verificadas e ativas"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(y,{className:"h-6 w-6 opacity-70"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm opacity-80",children:"Atualizado em"}),s.jsx("p",{className:"font-semibold",children:r(e.updatedAt)})]})]})]}),e.nutritionalHighlights&&e.nutritionalHighlights.length>0&&s.jsx("div",{className:"flex flex-wrap gap-3 pt-4",children:e.nutritionalHighlights.map(((e,a)=>s.jsxs("div",{className:"flex items-center space-x-2 px-4 py-2 bg-white/20 rounded-full",children:[s.jsx("span",{className:"text-2xl",children:e.icon}),s.jsx("span",{className:"font-medium",children:e.label})]},a)))})]})})]})})]})}function B({nutritionalInfo:e,servingSize:a,servingsPerPackage:t,highlights:r}){const[l,n]=x.useState(!1),[c,d]=x.useState(1),o=e?e.nutrients&&Array.isArray(e.nutrients)?e.nutrients:"object"==typeof e?Object.entries(e).map((([e,s])=>({name:e.charAt(0).toUpperCase()+e.slice(1).replace(/([A-Z])/g," $1"),amount:String(s),unit:"g"}))):[]:[],m=e=>{const s=parseFloat(e.replace(/[^\d.-]/g,""));if(isNaN(s))return e;const a=s*c,t=e.replace(/[\d.-]/g,"").trim();return`${a.toFixed(1)}${t}`},p=e=>{const s=parseInt(e);return s>=20?"text-red-600 font-semibold":s>=10?"text-yellow-600":"text-gray-600"};return s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[s.jsx("div",{className:"bg-gray-50 px-6 py-4 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"InformaÃ§Ã£o Nutricional"}),s.jsxs("button",{onClick:()=>n(!l),className:"flex items-center space-x-2 text-primary-600 hover:text-primary-700 transition-colors",children:[s.jsx(E,{className:"h-5 w-5"}),s.jsx("span",{className:"text-sm font-medium",children:"Calculadora"})]})]})}),s.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"PorÃ§Ã£o"}),s.jsx("p",{className:"font-semibold text-gray-900",children:(null==e?void 0:e.servingSize)||a||"100g"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"PorÃ§Ãµes por embalagem"}),s.jsx("p",{className:"font-semibold text-gray-900",children:(null==e?void 0:e.servingsPerPackage)||t||"Cerca de 10"})]})]})}),l&&s.jsx("div",{className:"px-6 py-4 bg-blue-50 border-b border-blue-200",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"NÃºmero de porÃ§Ãµes:"}),s.jsx("input",{type:"number",min:"0.5",max:"10",step:"0.5",value:c,onChange:e=>d(parseFloat(e.target.value)||1),className:"w-20 px-3 py-1 border border-gray-300 rounded-md focus:ring-primary-500 focus:border-primary-500"})]}),s.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-600",children:[s.jsx(f,{className:"h-4 w-4"}),s.jsxs("span",{children:["Valores ajustados para ",c," ",1===c?"porÃ§Ã£o":"porÃ§Ãµes"]})]})]})}),r&&r.length>0&&s.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[s.jsxs("h3",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center",children:[s.jsx(N,{className:"h-4 w-4 mr-2"}),"Destaques Nutricionais"]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:r.map(((e,a)=>s.jsxs("div",{className:`text-center p-3 rounded-lg bg-${e.color||"gray"}-50 border border-${e.color||"gray"}-200`,children:[e.icon&&s.jsx("div",{className:"text-2xl mb-1",children:e.icon}),s.jsx("p",{className:"text-xs font-medium text-gray-700",children:e.label}),e.value&&s.jsx("p",{className:"text-sm font-bold text-gray-900",children:e.value})]},a)))})]}),s.jsxs("div",{className:"px-6 py-4",children:[s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b-2 border-gray-900",children:[s.jsx("th",{className:"text-left py-2 font-bold text-gray-900",children:"Nutrientes"}),s.jsx("th",{className:"text-right py-2 font-bold text-gray-900 w-24",children:"Quantidade"}),o.some((e=>e.dailyValue))&&s.jsx("th",{className:"text-right py-2 font-bold text-gray-900 w-20",children:"%VD*"})]})}),s.jsx("tbody",{children:o.map(((e,a)=>s.jsxs(h.Fragment,{children:[s.jsxs("tr",{className:"border-b border-gray-200 "+(e.subNutrients?"font-semibold":""),children:[s.jsx("td",{className:"py-2 text-gray-900",children:e.name}),s.jsxs("td",{className:"text-right py-2 text-gray-900",children:[l&&1!==c?m(e.amount):e.amount,e.unit&&` ${e.unit}`]}),e.dailyValue&&s.jsx("td",{className:`text-right py-2 ${p(e.dailyValue)}`,children:e.dailyValue})]}),e.subNutrients&&e.subNutrients.map(((e,t)=>s.jsxs("tr",{className:"border-b border-gray-100",children:[s.jsx("td",{className:"py-1 pl-6 text-gray-700 text-sm",children:e.name}),s.jsxs("td",{className:"text-right py-1 text-gray-700 text-sm",children:[l&&1!==c?m(e.amount):e.amount,e.unit&&` ${e.unit}`]}),e.dailyValue&&s.jsx("td",{className:`text-right py-1 text-sm ${p(e.dailyValue)}`,children:e.dailyValue})]},`${a}-${t}`)))]},a)))})]}),s.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:s.jsx("p",{className:"text-xs text-gray-600 leading-relaxed",children:"* % Valores DiÃ¡rios de referÃªncia com base em uma dieta de 2.000 kcal ou 8400 kJ. Seus valores diÃ¡rios podem ser maiores ou menores dependendo de suas necessidades energÃ©ticas."})}),o.some((e=>e.dailyValue&&parseInt(e.dailyValue)>=20))&&s.jsx("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:s.jsxs("div",{className:"flex items-start space-x-2",children:[s.jsx(i,{className:"h-5 w-5 text-yellow-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-yellow-800",children:"AtenÃ§Ã£o aos valores diÃ¡rios"}),s.jsx("p",{className:"text-xs text-yellow-700 mt-1",children:"Este produto contÃ©m nutrientes com alto percentual de valores diÃ¡rios. Consuma com moderaÃ§Ã£o como parte de uma dieta equilibrada."})]})]})})]})]})}function H({ingredients:e,allergenInfo:t}){const[r,i]=x.useState(""),[l,n]=x.useState(null),[c,d]=x.useState(!1),o=e?"string"==typeof e?e.split(/[,;]/).map((e=>e.trim())).filter((e=>e.length>0)).map((e=>{const s=null==t?void 0:t.contains.some((s=>e.toLowerCase().includes(s.toLowerCase())));return{name:e,isAllergen:s,isOrganic:e.toLowerCase().includes("orgÃ¢nico")||e.toLowerCase().includes("organic")}})):e:[],m=o.filter((e=>{const s=e.name.toLowerCase().includes(r.toLowerCase()),a=!c||e.isAllergen;return s&&a})),h=["leite","ovos","trigo","soja","amendoim","castanhas","peixes","crustÃ¡ceos","glÃºten","lactose"],p=e=>{const s=e.toLowerCase();return h.some((e=>s.includes(e)))};return s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[s.jsxs("div",{className:"bg-gray-50 px-6 py-4 border-b border-gray-200",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Lista de Ingredientes"}),s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[o.length," ingredientes listados em ordem decrescente de quantidade"]})]}),s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(v,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Buscar ingrediente...",value:r,onChange:e=>i(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),s.jsxs("button",{onClick:()=>d(!c),className:"px-4 py-2 rounded-lg font-medium transition-colors "+(c?"bg-red-100 text-red-700 border-2 border-red-300":"bg-gray-100 text-gray-700 border-2 border-gray-300"),children:[s.jsx(w,{className:"h-4 w-4 inline mr-2"}),"Apenas AlÃ©rgenos"]})]})}),t&&s.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 bg-red-50",children:[s.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:[s.jsx(w,{className:"h-5 w-5 text-red-600 mr-2"}),"InformaÃ§Ãµes sobre AlÃ©rgenos"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.contains.length>0&&s.jsxs("div",{className:"bg-red-100 rounded-lg p-4 border border-red-200",children:[s.jsx("h4",{className:"font-medium text-red-800 mb-2",children:"CONTÃ‰M"}),s.jsx("ul",{className:"space-y-1",children:t.contains.map(((e,a)=>s.jsxs("li",{className:"text-sm text-red-700 flex items-center",children:[s.jsx(w,{className:"h-3 w-3 mr-1"}),e]},a)))})]}),t.mayContain.length>0&&s.jsxs("div",{className:"bg-yellow-100 rounded-lg p-4 border border-yellow-200",children:[s.jsx("h4",{className:"font-medium text-yellow-800 mb-2",children:"PODE CONTER"}),s.jsx("ul",{className:"space-y-1",children:t.mayContain.map(((e,a)=>s.jsxs("li",{className:"text-sm text-yellow-700 flex items-center",children:[s.jsx(f,{className:"h-3 w-3 mr-1"}),e]},a)))})]}),t.free.length>0&&s.jsxs("div",{className:"bg-green-100 rounded-lg p-4 border border-green-200",children:[s.jsx("h4",{className:"font-medium text-green-800 mb-2",children:"NÃƒO CONTÃ‰M"}),s.jsx("ul",{className:"space-y-1",children:t.free.map(((e,t)=>s.jsxs("li",{className:"text-sm text-green-700 flex items-center",children:[s.jsx(a,{className:"h-3 w-3 mr-1"}),e]},t)))})]})]})]}),s.jsxs("div",{className:"px-6 py-4",children:[s.jsx("div",{className:"space-y-2",children:0===m.length?s.jsx("p",{className:"text-center text-gray-500 py-8",children:r?"Nenhum ingrediente encontrado":"Nenhum ingrediente listado"}):m.map(((e,a)=>{const t=l===e.name,r=e.description||e.origin||e.percentage;return s.jsxs("div",{className:"border rounded-lg transition-all "+(e.isAllergen||p(e.name)?"border-red-300 bg-red-50":"border-gray-200 bg-gray-50"),children:[s.jsxs("button",{onClick:()=>r&&n(t?null:e.name),className:"w-full px-4 py-3 flex items-center justify-between text-left hover:bg-opacity-70 transition-colors",disabled:!r,children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("span",{className:"font-medium text-gray-900",children:[a+1,". ",e.name]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[e.isOrganic&&s.jsxs("span",{className:"inline-flex items-center px-2 py-1 bg-green-100 text-green-700 text-xs rounded-full",children:[s.jsx(k,{className:"h-3 w-3 mr-1"}),"OrgÃ¢nico"]}),(e.isAllergen||p(e.name))&&s.jsxs("span",{className:"inline-flex items-center px-2 py-1 bg-red-100 text-red-700 text-xs rounded-full",children:[s.jsx(w,{className:"h-3 w-3 mr-1"}),"AlÃ©rgeno"]}),e.percentage&&s.jsxs("span",{className:"text-sm text-gray-600",children:[e.percentage,"%"]})]})]}),r&&s.jsx("div",{className:"text-gray-400",children:t?s.jsx(C,{}):s.jsx(I,{})})]}),t&&r&&s.jsxs("div",{className:"px-4 pb-3 space-y-2 border-t border-gray-200",children:[e.description&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-700",children:"DescriÃ§Ã£o:"}),s.jsx("p",{className:"text-sm text-gray-600",children:e.description})]}),e.origin&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(S,{className:"h-4 w-4 text-gray-400"}),s.jsxs("p",{className:"text-sm text-gray-600",children:[s.jsx("span",{className:"font-medium",children:"Origem:"})," ",e.origin]})]})]})]},a)}))}),s.jsx("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:s.jsxs("div",{className:"flex items-start space-x-2",children:[s.jsx(f,{className:"h-5 w-5 text-blue-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"text-sm text-blue-800",children:[s.jsx("p",{className:"font-medium mb-1",children:"Sobre a lista de ingredientes:"}),s.jsxs("ul",{className:"space-y-1 text-xs",children:[s.jsx("li",{children:"â€¢ Ingredientes listados em ordem decrescente de quantidade"}),s.jsx("li",{children:"â€¢ AlÃ©rgenos destacados em vermelho para fÃ¡cil identificaÃ§Ã£o"}),s.jsx("li",{children:"â€¢ Ingredientes orgÃ¢nicos marcados com sÃ­mbolo especial"}),s.jsx("li",{children:"â€¢ Percentuais exibidos quando disponÃ­veis"})]})]})]})})]})]})}function Q({certifications:e=[],seals:i=[]}){const[n,c]=x.useState(null),[d,o]=x.useState(!1),m=[...e.map((e=>({...e,type:"certification"}))),...i.map((e=>({...e,type:"seal",issuer:e.issuer||"True Label",expiryDate:e.validUntil})))],h=m.filter((e=>!e.expiryDate||new Date(e.expiryDate)>new Date)),p=m.filter((e=>!!e.expiryDate&&new Date(e.expiryDate)<=new Date)),u=d?[...h,...p]:h,j=e=>{const s=e.name.toLowerCase();return s.includes("organic")||s.includes("orgÃ¢nico")?"ðŸŒ±":s.includes("iso")?"ðŸ†":s.includes("haccp")||s.includes("appcc")?"âœ…":s.includes("fair")||s.includes("justo")?"ðŸ¤":s.includes("sustent")||s.includes("eco")?"ðŸŒ":s.includes("kosher")?"âœ¡ï¸":s.includes("halal")?"â˜ªï¸":s.includes("vegan")?"ðŸŒ¿":s.includes("gluten")?"ðŸŒ¾":s.includes("non-gmo")||s.includes("transgÃªn")?"ðŸš«":"ðŸ“‹"},f=e=>!!e&&new Date(e)<=new Date;return s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[s.jsx("div",{className:"bg-gray-50 px-6 py-4 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"CertificaÃ§Ãµes e Selos"}),s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[h.length," certificaÃ§Ãµes ativas",p.length>0&&` â€¢ ${p.length} expiradas`]})]}),p.length>0&&s.jsxs("button",{onClick:()=>o(!d),className:"text-sm text-primary-600 hover:text-primary-700 font-medium",children:[d?"Ocultar":"Mostrar"," expiradas"]})]})}),s.jsxs("div",{className:"p-6",children:[0===u.length?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(g,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"Nenhuma certificaÃ§Ã£o registrada"})]}):s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:u.map(((e,a)=>{const r=f(e.expiryDate),i=(e=>{const s=e.name.toLowerCase();return s.includes("organic")||s.includes("orgÃ¢nico")?"green":s.includes("iso")?"blue":s.includes("sustent")||s.includes("eco")?"emerald":s.includes("fair")||s.includes("justo")?"purple":"gray"})(e);return s.jsxs("button",{onClick:()=>c(e),className:`\n                    relative p-4 rounded-xl border-2 transition-all hover:shadow-lg\n                    ${r?"opacity-50 border-gray-300 bg-gray-50":`border-${i}-200 bg-${i}-50 hover:border-${i}-400`}\n                  `,children:[r&&s.jsx("div",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs px-2 py-1 rounded-full",children:"Expirada"}),s.jsx("div",{className:"text-4xl mb-3",children:j(e)}),s.jsx("h3",{className:"font-semibold text-sm "+(r?"text-gray-600":"text-gray-900"),children:e.name}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:e.issuer}),s.jsx("div",{className:"mt-3",children:s.jsx("span",{className:`\n                      inline-flex items-center px-2 py-1 rounded-full text-xs font-medium\n                      ${"seal"===e.type?"bg-purple-100 text-purple-700":"bg-blue-100 text-blue-700"}\n                    `,children:"seal"===e.type?s.jsxs(s.Fragment,{children:[s.jsx(t,{className:"h-3 w-3 mr-1"}),"Selo"]}):s.jsxs(s.Fragment,{children:[s.jsx(g,{className:"h-3 w-3 mr-1"}),"CertificaÃ§Ã£o"]})})})]},a)}))}),s.jsx("div",{className:"mt-8 p-4 bg-primary-50 border border-primary-200 rounded-lg",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(a,{className:"h-5 w-5 text-primary-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-primary-900",children:"Todas as certificaÃ§Ãµes sÃ£o verificadas"}),s.jsx("p",{className:"text-xs text-primary-700 mt-1",children:"As certificaÃ§Ãµes e selos exibidos foram validados pela plataforma True Label junto aos Ã³rgÃ£os emissores competentes."})]})]})})]}),n&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-xl max-w-lg w-full max-h-[90vh] overflow-y-auto",children:[s.jsx("div",{className:"bg-gray-50 px-6 py-4 border-b border-gray-200 sticky top-0",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Detalhes da ","seal"===n.type?"Selo":"CertificaÃ§Ã£o"]}),s.jsx("button",{onClick:()=>c(null),className:"text-gray-400 hover:text-gray-600",children:s.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-6xl mb-4",children:j(n)}),s.jsx("h4",{className:"text-xl font-bold text-gray-900",children:n.name}),n.description&&s.jsx("p",{className:"text-gray-600 mt-2",children:n.description})]}),s.jsxs("div",{className:"space-y-3 pt-4 border-t border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"flex items-center text-sm text-gray-600",children:[s.jsx(b,{className:"h-4 w-4 mr-2"}),"Emissor"]}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:n.issuer})]}),n.number&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"flex items-center text-sm text-gray-600",children:[s.jsx(l,{className:"h-4 w-4 mr-2"}),"NÃºmero"]}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:n.number})]}),n.issueDate&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"flex items-center text-sm text-gray-600",children:[s.jsx(y,{className:"h-4 w-4 mr-2"}),"Data de EmissÃ£o"]}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:r(n.issueDate)})]}),n.expiryDate&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"flex items-center text-sm text-gray-600",children:[s.jsx(y,{className:"h-4 w-4 mr-2"}),"Validade"]}),s.jsxs("span",{className:"text-sm font-medium "+(f(n.expiryDate)?"text-red-600":"text-gray-900"),children:[r(n.expiryDate),f(n.expiryDate)&&" (Expirada)"]})]})]}),s.jsxs("div",{className:"pt-4 space-y-3",children:[n.documentUrl&&s.jsxs("a",{href:n.documentUrl,target:"_blank",rel:"noopener noreferrer",className:"w-full flex items-center justify-center space-x-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[s.jsx(L,{className:"h-4 w-4"}),s.jsx("span",{children:"Baixar Certificado"})]}),s.jsx("button",{onClick:()=>c(null),className:"w-full px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Fechar"})]})]})]})})]})}function W({sustainabilityScore:e,traceability:a}){const[r,i]=x.useState(null);if(!e)return s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"text-center py-8",children:[s.jsx(k,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"Dados de sustentabilidade nÃ£o disponÃ­veis"})]})});const l=e=>e>=80?"green":e>=60?"yellow":e>=40?"orange":"red",c=[{id:"carbon",name:"Pegada de Carbono",icon:D,score:e.carbonFootprint,description:"EmissÃµes de CO2 durante produÃ§Ã£o e transporte",tips:["ProduÃ§Ã£o com energia renovÃ¡vel","OtimizaÃ§Ã£o de processos industriais","CompensaÃ§Ã£o de carbono certificada"]},{id:"water",name:"Uso de Ãgua",icon:P,score:e.waterUsage,description:"EficiÃªncia no consumo de recursos hÃ­dricos",tips:["Sistema de reuso de Ã¡gua","CaptaÃ§Ã£o de Ã¡gua da chuva","Processos de baixo consumo hÃ­drico"]},{id:"packaging",name:"Embalagem",icon:n,score:e.packaging,description:"Sustentabilidade dos materiais de embalagem",tips:["Materiais reciclÃ¡veis ou biodegradÃ¡veis","ReduÃ§Ã£o de plÃ¡stico","Design otimizado para menor desperdÃ­cio"]},{id:"transport",name:"Transporte",icon:$,score:e.transportation,description:"EficiÃªncia logÃ­stica e modal de transporte",tips:["Uso de veÃ­culos elÃ©tricos ou hÃ­bridos","OtimizaÃ§Ã£o de rotas","ProduÃ§Ã£o local quando possÃ­vel"]}];return s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[s.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 px-6 py-4 border-b border-gray-200",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[s.jsx(k,{className:"h-7 w-7 text-green-600 mr-2"}),"Ãndice de Sustentabilidade"]}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"AvaliaÃ§Ã£o do impacto ambiental do produto"})]})})}),s.jsxs("div",{className:"p-6 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"PontuaÃ§Ã£o Geral"}),s.jsxs("div",{className:"flex items-baseline space-x-2",children:[s.jsx("span",{className:"text-5xl font-bold text-gray-900",children:e.overall}),s.jsx("span",{className:"text-xl text-gray-500",children:"/100"})]}),s.jsx("div",{className:"mt-2",children:s.jsxs("span",{className:`\n                inline-flex items-center px-3 py-1 rounded-full text-sm font-medium\n                bg-${l(e.overall)}-100 \n                text-${l(e.overall)}-800\n              `,children:[s.jsx(t,{className:"h-4 w-4 mr-1"}),(d=e.overall,d>=80?"Excelente":d>=60?"Bom":d>=40?"Regular":"Precisa Melhorar")]})})]}),s.jsxs("div",{className:"relative w-32 h-32",children:[s.jsxs("svg",{className:"transform -rotate-90 w-32 h-32",children:[s.jsx("circle",{cx:"64",cy:"64",r:"56",stroke:"currentColor",strokeWidth:"12",fill:"none",className:"text-gray-200"}),s.jsx("circle",{cx:"64",cy:"64",r:"56",stroke:"currentColor",strokeWidth:"12",fill:"none",strokeDasharray:e.overall/100*352+" 352",className:`text-${l(e.overall)}-500`})]}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsx(k,{className:`h-12 w-12 text-${l(e.overall)}-600`})})]})]}),s.jsxs("div",{className:"mt-6",children:[s.jsx("div",{className:"h-3 bg-gray-200 rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full bg-gradient-to-r from-${l(e.overall)}-400 to-${l(e.overall)}-600 transition-all duration-1000`,style:{width:`${e.overall}%`}})}),s.jsxs("div",{className:"flex justify-between mt-1 text-xs text-gray-500",children:[s.jsx("span",{children:"0"}),s.jsx("span",{children:"25"}),s.jsx("span",{children:"50"}),s.jsx("span",{children:"75"}),s.jsx("span",{children:"100"})]})]})]}),s.jsx("div",{className:"p-6 space-y-4",children:c.map((e=>{const a=e.icon,t=r===e.id,n=l(e.score);return s.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[s.jsx("button",{onClick:()=>i(t?null:e.id),className:"w-full px-4 py-3 bg-gray-50 hover:bg-gray-100 transition-colors",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(a,{className:`h-5 w-5 text-${n}-600`}),s.jsx("span",{className:"font-medium text-gray-900",children:e.name})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-24 h-2 bg-gray-200 rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full bg-${n}-500`,style:{width:`${e.score}%`}})}),s.jsxs("span",{className:"text-sm font-medium text-gray-700 w-12 text-right",children:[e.score,"%"]})]}),t?s.jsx(C,{className:"h-4 w-4"}):s.jsx(I,{className:"h-4 w-4"})]})]})}),t&&s.jsxs("div",{className:"px-4 py-3 bg-white space-y-3",children:[s.jsx("p",{className:"text-sm text-gray-600",children:e.description}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-gray-700 mb-2",children:"Iniciativas implementadas:"}),s.jsx("ul",{className:"space-y-1",children:e.tips.map(((e,a)=>s.jsxs("li",{className:"flex items-start text-xs text-gray-600",children:[s.jsx(M,{className:"h-3 w-3 text-green-500 mr-1 flex-shrink-0 mt-0.5"}),e]},a)))})]})]})]},e.id)}))}),e.details&&e.details.length>0&&s.jsxs("div",{className:"px-6 pb-6",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"MÃ©tricas Detalhadas"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.details.map(((e,a)=>s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-700",children:e.metric}),s.jsxs("div",{className:"flex items-baseline space-x-2 mt-1",children:[s.jsx("span",{className:"text-2xl font-bold text-gray-900",children:e.value}),s.jsx("span",{className:"text-sm text-gray-600",children:e.unit})]}),e.comparison&&s.jsx("p",{className:"text-xs text-green-600 mt-1",children:e.comparison})]},a)))})]}),a&&a.origin&&s.jsx("div",{className:"px-6 pb-6",children:s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(f,{className:"h-5 w-5 text-blue-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-blue-900",children:"Rastreabilidade"}),s.jsxs("p",{className:"text-xs text-blue-700 mt-1",children:["Produto originÃ¡rio de ",a.origin.location,a.origin.farm&&` - ${a.origin.farm}`]}),a.processing&&s.jsxs("p",{className:"text-xs text-blue-700",children:["Processado em ",a.processing.facility]})]})]})})})]});var d}const G={async getSmartLabelData(e){try{const s=await c.get(`/products/${e}`),a=s.data.product||s.data,t=(await c.get(`/products/${e}/smart-label`)).data;return{...a,...t}}catch(s){const a=await c.get(`/products/${e}`),t=a.data.product||a.data;return this.enrichProductData(t)}},async getSmartLabelByQRCode(e){try{return(await c.get(`/qr/smart-label/${e}`)).data}catch(s){const a=await c.get(`/qr/validate/${e}`),{product:t}=a.data;return this.enrichProductData(t)}},calculateSustainabilityScore(e){var s,a,t,r,i;const l=((null==(s=e.certifications)?void 0:s.some((e=>e.name.toLowerCase().includes("organic")||e.name.toLowerCase().includes("orgÃ¢nico"))))?15:0)+((null==(a=e.certifications)?void 0:a.some((e=>e.name.toLowerCase().includes("eco")||e.name.toLowerCase().includes("sustent"))))?15:0),n=(null==(i=null==(r=null==(t=e.traceability)?void 0:t.origin)?void 0:r.location)?void 0:i.toLowerCase().includes("brasil"))?10:0,c=Math.min(100,50+l+n);return{overall:c,carbonFootprint:c-10+20*Math.random(),waterUsage:c-10+20*Math.random(),packaging:c-10+20*Math.random(),transportation:c-10+20*Math.random(),details:[{metric:"EmissÃµes de CO2",value:2.5,unit:"kg CO2/kg produto",comparison:"30% menor que a mÃ©dia"},{metric:"Uso de Ãgua",value:150,unit:"L/kg produto",comparison:"25% menor que a mÃ©dia"}]}},async generateShareableLink(e,s){try{return(await c.post(`/products/${e}/share-link`,{platform:s,type:"smart-label"})).data}catch(a){return{url:`${window.location.origin}/smart-label/${e}`}}},async trackInteraction(e){try{await c.post("/analytics/smart-label",e)}catch(s){}},async getComparableProducts(e,s){try{return(await c.get(`/products/${e}/comparable`,{params:{category:s,limit:4}})).data.products.map((e=>this.enrichProductData(e)))}catch(a){const s=await c.get(`/products/${e}`),t=s.data.product||s.data;return(await c.get("/products",{params:{category:t.category,limit:5}})).data.products.filter((s=>s.id!==e)).slice(0,4).map((e=>this.enrichProductData(e)))}},enrichProductData(e){var s,a;const t=(null==(s=e.claims)?void 0:s.split(",").map((e=>e.trim())))||[],r={contains:e.allergens||[],mayContain:[],free:t.filter((e=>e.toLowerCase().includes("sem")||e.toLowerCase().includes("free")||e.toLowerCase().includes("nÃ£o contÃ©m"))).map((e=>e.replace(/(sem |free |nÃ£o contÃ©m )/gi,"").trim()))},i=t.filter((e=>e.toLowerCase().includes("fonte")||e.toLowerCase().includes("rico")||e.toLowerCase().includes("high")||e.toLowerCase().includes("low"))).map((e=>({label:e,value:"",icon:this.getClaimIcon(e),color:this.getClaimColor(e)}))),l=t.map((e=>({claim:e,validated:!0,evidence:"Validado por laboratÃ³rio acreditado"})));return{...e,allergenInfo:r,nutritionalHighlights:i,healthClaims:l,sustainabilityScore:this.calculateSustainabilityScore(e),storageInstructions:{beforeOpening:["Conservar em local seco e arejado","Evitar luz solar direta"],afterOpening:["Manter refrigerado","Consumir em atÃ© 7 dias"]},usage:{servingSize:"1 porÃ§Ã£o (100g)",servingsPerPackage:10,preparationInstructions:[],usageTips:["Ideal para o cafÃ© da manhÃ£","Combine com frutas frescas"]},companyInfo:{name:e.brand,description:"Empresa comprometida com qualidade e transparÃªncia",website:`https://${e.brand.toLowerCase().replace(/\s+/g,"")}.com.br`,values:["Qualidade","TransparÃªncia","Sustentabilidade"],certifications:(null==(a=e.certifications)?void 0:a.map((e=>e.name)))||[]}}},getClaimIcon(e){const s=e.toLowerCase();return s.includes("proteÃ­na")?"ðŸ’ª":s.includes("fibra")?"ðŸŒ¾":s.includes("vitamina")?"ðŸ¥—":s.includes("cÃ¡lcio")?"ðŸ¥›":s.includes("ferro")?"ðŸ©¸":s.includes("Ã´mega")?"ðŸŸ":s.includes("probiÃ³tico")?"ðŸ¦ ":s.includes("zero")||s.includes("sem")?"ðŸš«":s.includes("integral")?"ðŸŒ¾":s.includes("natural")?"ðŸŒ¿":"âœ“"},getClaimColor(e){const s=e.toLowerCase();return s.includes("proteÃ­na")||s.includes("ferro")?"red":s.includes("fibra")||s.includes("integral")?"amber":s.includes("vitamina")||s.includes("natural")?"green":s.includes("cÃ¡lcio")||s.includes("probiÃ³tico")?"blue":s.includes("zero")||s.includes("sem")?"purple":"gray"}};function _(){var e,t,l,c,m,h,g,j,b,y,f,N;const{code:v}=p();u();const[w,C]=x.useState("nutrition"),[I,L]=x.useState(!0),[P,$]=x.useState(null),[M,E]=x.useState(null),[O,R]=x.useState(!1),[_,J]=x.useState([]),[K,Y]=x.useState([]),Z=x.useRef(null);x.useEffect((()=>{(async()=>{if(v)try{let e;L(!0),e=v.startsWith("QR-")?await G.getSmartLabelByQRCode(v):await G.getSmartLabelData(v),$(e),await G.trackInteraction({productId:e.id,action:"view"});const s=await G.getComparableProducts(e.id,e.category);J(s)}catch(e){E(e.message||"Erro ao carregar informaÃ§Ãµes do produto")}finally{L(!1)}})()}),[v]);const X=(()=>{if(!P)return[];const e=[];return(P.nutritionalInfo||P.nutritionInfo)&&e.push({id:"nutrition",label:"NutriÃ§Ã£o"}),P.ingredients&&e.push({id:"ingredients",label:"Ingredientes"}),(P.allergenInfo||P.allergens)&&e.push({id:"allergens",label:"AlÃ©rgenos"}),P.storageInstructions&&e.push({id:"storage",label:"Armazenamento"}),(P.certifications||P.seals)&&e.push({id:"certifications",label:"CertificaÃ§Ãµes"}),P.sustainabilityScore&&e.push({id:"sustainability",label:"Sustentabilidade"}),P.traceability&&e.push({id:"traceability",label:"Rastreabilidade"}),(P.companyInfo||P.contact)&&e.push({id:"company",label:"Empresa"}),e})();return I?s.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:s.jsx(d,{size:"lg"})}):M||!P?s.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(i,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Produto nÃ£o encontrado"}),s.jsx("p",{className:"text-gray-600",children:"O cÃ³digo QR informado nÃ£o Ã© vÃ¡lido."})]})}):s.jsxs("div",{className:"min-h-screen bg-gray-50",ref:Z,children:[s.jsx(F,{product:P,onShare:async()=>{if(P)try{if(await G.trackInteraction({productId:P.id,action:"share",metadata:{shareMethod:navigator.share?"native":"link"}}),navigator.share)await navigator.share({title:P.name,text:`Confira as informaÃ§Ãµes verificadas de ${P.name} - ${P.brand}`,url:window.location.href});else{const e=await G.generateShareableLink(P.id);await navigator.clipboard.writeText(e.url),alert("Link copiado para a Ã¡rea de transferÃªncia!")}}catch(e){}},onPrint:async()=>{if(P)try{await G.trackInteraction({productId:P.id,action:"print"}),window.print()}catch(e){}}}),s.jsx("div",{className:"hidden print:block bg-white p-6 border-b border-gray-300",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:null==P?void 0:P.name}),s.jsxs("p",{className:"text-gray-600",children:[null==P?void 0:P.brand," - ",null==P?void 0:P.category]})]}),s.jsxs("div",{className:"text-right text-sm text-gray-500",children:[s.jsxs("p",{children:["Impresso em: ",(new Date).toLocaleDateString("pt-BR")]}),s.jsx("p",{children:"Fonte: True Label SmartLabel"})]})]})}),s.jsx("nav",{className:"bg-white border-b-2 border-gray-100 sticky top-0 z-40 print:hidden",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"flex space-x-0 overflow-x-auto flex-1",children:X.map((e=>s.jsxs("button",{onClick:()=>(async e=>{C(e),P&&await G.trackInteraction({productId:P.id,action:"tab_change",metadata:{tab:e}})})(e.id),className:`\n                    px-4 sm:px-6 py-4 font-medium whitespace-nowrap transition-all relative\n                    ${w===e.id?"text-primary-600 bg-primary-50":"text-gray-600 hover:text-primary-600 hover:bg-gray-50"}\n                  `,children:[e.label,w===e.id&&s.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-[3px] bg-primary-600"})]},e.id)))}),_.length>0&&s.jsxs("button",{onClick:()=>R(!O),className:"ml-4 px-4 py-2 bg-primary-100 text-primary-700 rounded-lg font-medium hover:bg-primary-200 transition-colors flex items-center space-x-2",children:[s.jsx(n,{className:"h-4 w-4"}),s.jsxs("span",{children:["Comparar (",K.length,")"]})]})]})})}),s.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:["nutrition"===w&&P&&s.jsx("div",{className:"animate-fadeIn",children:s.jsx(B,{nutritionalInfo:P.nutritionalInfo||P.nutritionInfo,servingSize:null==(e=P.usage)?void 0:e.servingSize,servingsPerPackage:null==(t=P.usage)?void 0:t.servingsPerPackage,highlights:P.nutritionalHighlights})}),"ingredients"===w&&P&&s.jsx("div",{className:"animate-fadeIn",children:s.jsx(H,{ingredients:P.ingredients,allergenInfo:P.allergenInfo})}),"allergens"===w&&P&&P.allergenInfo&&s.jsx("div",{className:"animate-fadeIn",children:s.jsx(H,{allergenInfo:P.allergenInfo})}),"storage"===w&&P&&P.storageInstructions&&s.jsx("div",{className:"animate-fadeIn",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[s.jsx("div",{className:"bg-gray-50 px-6 py-4 border-b border-gray-200",children:s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"InstruÃ§Ãµes de Armazenamento"})}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-gray-50 rounded-xl p-6",children:[s.jsxs("h3",{className:"text-xl font-semibold mb-4 text-primary-600 flex items-center",children:[s.jsx(n,{className:"h-6 w-6 mr-2"}),"Antes de Abrir"]}),s.jsx("ul",{className:"space-y-3",children:P.storageInstructions.beforeOpening.map(((e,t)=>s.jsxs("li",{className:"flex items-start",children:[s.jsx(a,{className:"h-5 w-5 text-green-500 mr-2 flex-shrink-0 mt-0.5"}),s.jsx("span",{children:e})]},t)))})]}),s.jsxs("div",{className:"bg-primary-50 rounded-xl p-6",children:[s.jsx("h3",{className:"text-xl font-semibold mb-4 text-primary-600 flex items-center",children:"â„ï¸ Depois de Aberto"}),s.jsx("ul",{className:"space-y-3",children:P.storageInstructions.afterOpening.map(((e,t)=>s.jsxs("li",{className:"flex items-start",children:[s.jsx(a,{className:"h-5 w-5 text-green-500 mr-2 flex-shrink-0 mt-0.5"}),s.jsx("span",{children:e})]},t)))})]})]}),P.storageInstructions.temperature&&s.jsx("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:s.jsxs("p",{className:"text-sm font-medium text-blue-900",children:["Temperatura ideal: ",P.storageInstructions.temperature.min,"Â°",P.storageInstructions.temperature.unit," a ",P.storageInstructions.temperature.max,"Â°",P.storageInstructions.temperature.unit]})}),P.usage&&P.usage.usageTips&&s.jsxs("div",{className:"bg-white border-2 border-primary-600 rounded-xl p-6 mt-6",children:[s.jsx("h3",{className:"text-xl font-semibold mb-4",children:"ðŸ’¡ Dicas de Uso"}),s.jsx("ul",{className:"space-y-2",children:P.usage.usageTips.map(((e,a)=>s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"text-primary-600 mr-2",children:"â€¢"}),e]},a)))})]})]})]})}),"certifications"===w&&P&&s.jsx("div",{className:"animate-fadeIn",children:s.jsx(Q,{certifications:P.certifications,seals:P.seals})}),"sustainability"===w&&P&&s.jsx("div",{className:"animate-fadeIn",children:s.jsx(W,{sustainabilityScore:P.sustainabilityScore,traceability:P.traceability})}),"traceability"===w&&P&&P.traceability&&s.jsx("div",{className:"animate-fadeIn",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[s.jsx("div",{className:"bg-gray-50 px-6 py-4 border-b border-gray-200",children:s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Rastreabilidade"})}),s.jsxs("div",{className:"p-6",children:[P.traceability.origin&&s.jsxs("div",{className:"mb-6",children:[s.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:[s.jsx(A,{className:"h-5 w-5 text-primary-600 mr-2"}),"Origem"]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsxs("p",{className:"text-gray-900",children:[s.jsx("strong",{children:"Local:"})," ",P.traceability.origin.location]}),P.traceability.origin.farm&&s.jsxs("p",{className:"text-gray-900 mt-1",children:[s.jsx("strong",{children:"Fazenda:"})," ",P.traceability.origin.farm]}),P.traceability.origin.harvestDate&&s.jsxs("p",{className:"text-gray-900 mt-1",children:[s.jsx("strong",{children:"Data de Colheita:"})," ",r(P.traceability.origin.harvestDate)]})]})]}),P.traceability.processing&&s.jsxs("div",{className:"mb-6",children:[s.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:[s.jsx(D,{className:"h-5 w-5 text-primary-600 mr-2"}),"Processamento"]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsxs("p",{className:"text-gray-900",children:[s.jsx("strong",{children:"Unidade:"})," ",P.traceability.processing.facility]}),P.traceability.processing.date&&s.jsxs("p",{className:"text-gray-900 mt-1",children:[s.jsx("strong",{children:"Data:"})," ",r(P.traceability.processing.date)]}),P.traceability.processing.certifications&&s.jsxs("div",{className:"mt-2",children:[s.jsx("strong",{children:"CertificaÃ§Ãµes da Unidade:"}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:P.traceability.processing.certifications.map(((e,a)=>s.jsx("span",{className:"px-2 py-1 bg-primary-100 text-primary-700 text-xs rounded-full",children:e},a)))})]})]})]}),P.traceability.supplyChainMap&&s.jsx("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:s.jsx("p",{className:"text-sm font-medium text-blue-900",children:"Mapa completo da cadeia de suprimentos disponÃ­vel"})})]})]})}),"company"===w&&P&&(P.companyInfo||P.contact)&&s.jsx("div",{className:"animate-fadeIn",children:s.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-8 max-w-2xl mx-auto text-center",children:[(null==(l=P.companyInfo)?void 0:l.logo)?s.jsx("img",{src:P.companyInfo.logo,alt:P.companyInfo.name||P.brand,className:"h-32 mx-auto mb-6"}):s.jsx("div",{className:"w-32 h-32 bg-primary-600 rounded-2xl flex items-center justify-center text-white text-6xl font-bold mx-auto mb-6",children:((null==(c=P.companyInfo)?void 0:c.name)||P.brand).charAt(0).toLowerCase()}),s.jsx("h2",{className:"text-3xl font-bold mb-2",children:(null==(m=P.companyInfo)?void 0:m.name)||P.brand}),(null==(h=P.companyInfo)?void 0:h.description)&&s.jsx("p",{className:"text-gray-600 leading-relaxed mb-8",children:P.companyInfo.description}),s.jsxs("div",{className:"flex flex-col md:flex-row justify-center gap-8 mb-8",children:[(null==(g=P.contact)?void 0:g.customerServicePhone)&&s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-500 uppercase tracking-wider mb-1",children:"SAC"}),s.jsxs("div",{className:"font-medium flex items-center justify-center",children:[s.jsx(z,{className:"h-4 w-4 mr-2"}),P.contact.customerServicePhone]})]}),(null==(j=P.contact)?void 0:j.customerServiceEmail)&&s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-500 uppercase tracking-wider mb-1",children:"E-mail"}),s.jsxs("div",{className:"font-medium flex items-center justify-center",children:[s.jsx(V,{className:"h-4 w-4 mr-2"}),P.contact.customerServiceEmail]})]}),(null==(b=P.companyInfo)?void 0:b.website)&&s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-500 uppercase tracking-wider mb-1",children:"Website"}),s.jsxs("div",{className:"font-medium flex items-center justify-center",children:[s.jsx(S,{className:"h-4 w-4 mr-2"}),P.companyInfo.website]})]})]}),(null==(y=P.companyInfo)?void 0:y.values)&&P.companyInfo.values.length>0&&s.jsxs("div",{className:"mb-8",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Nossos Valores"}),s.jsx("div",{className:"flex flex-wrap justify-center gap-3",children:P.companyInfo.values.map(((e,a)=>s.jsx("span",{className:"px-4 py-2 bg-primary-100 text-primary-700 rounded-full text-sm font-medium",children:e},a)))})]}),(null==(f=P.companyInfo)?void 0:f.socialMedia)&&P.companyInfo.socialMedia.length>0&&s.jsxs("div",{className:"pt-8 border-t border-gray-200",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Siga-nos"}),s.jsx("div",{className:"flex justify-center gap-4",children:P.companyInfo.socialMedia.map(((e,a)=>{const t="facebook"===e.platform?T:"instagram"===e.platform?U:"linkedin"===e.platform?q:S;return s.jsx("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 bg-primary-600 text-white rounded-full flex items-center justify-center hover:bg-primary-700 transition-colors",children:s.jsx(t,{className:"h-5 w-5"})},a)}))})]})]})})]}),O&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-xl max-w-6xl w-full max-h-[90vh] overflow-hidden",children:[s.jsxs("div",{className:"bg-gray-50 px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Comparar Produtos"}),s.jsx("button",{onClick:()=>R(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(o,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("p",{className:"text-sm text-gray-600 mb-3",children:["Selecione produtos para comparar com ",null==P?void 0:P.name,":"]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:_.map((e=>s.jsxs("button",{onClick:()=>(async e=>{const s=K.includes(e)?K.filter((s=>s!==e)):[...K,e];Y(s),P&&s.length>0&&await G.trackInteraction({productId:P.id,action:"compare",metadata:{comparedWith:s}})})(e.id),className:"p-4 rounded-lg border-2 transition-all "+(K.includes(e.id)?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-gray-300"),children:[e.imageUrl?s.jsx("img",{src:e.imageUrl,alt:e.name,className:"w-full h-24 object-cover rounded mb-2"}):s.jsx("div",{className:"w-full h-24 bg-gray-100 rounded mb-2 flex items-center justify-center",children:s.jsx(n,{className:"h-12 w-12 text-gray-400"})}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.name}),s.jsx("p",{className:"text-xs text-gray-600",children:e.brand})]},e.id)))})]}),K.length>0&&s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full border-collapse",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left p-4 bg-gray-50 font-medium text-gray-700 sticky left-0 z-10",children:"CaracterÃ­stica"}),s.jsx("th",{className:"p-4 bg-gray-50 font-medium text-gray-700",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"font-semibold",children:null==P?void 0:P.name}),s.jsx("p",{className:"text-xs text-gray-600",children:null==P?void 0:P.brand})]})}),K.map((e=>{const a=_.find((s=>s.id===e));return a&&s.jsx("th",{className:"p-4 bg-gray-50 font-medium text-gray-700",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"font-semibold",children:a.name}),s.jsx("p",{className:"text-xs text-gray-600",children:a.brand})]})},e)}))]})}),s.jsxs("tbody",{children:[s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"p-4 font-medium sticky left-0 bg-white z-10",children:"Categoria"}),s.jsx("td",{className:"p-4 text-center",children:null==P?void 0:P.category}),K.map((e=>{const a=_.find((s=>s.id===e));return s.jsx("td",{className:"p-4 text-center",children:null==a?void 0:a.category},e)}))]}),s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"p-4 font-medium sticky left-0 bg-white z-10",children:"Status de ValidaÃ§Ã£o"}),s.jsx("td",{className:"p-4 text-center",children:"VALIDATED"===(null==P?void 0:P.status)?s.jsxs("span",{className:"inline-flex items-center px-2 py-1 bg-green-100 text-green-700 text-xs rounded-full",children:[s.jsx(a,{className:"h-3 w-3 mr-1"}),"Validado"]}):s.jsx("span",{className:"inline-flex items-center px-2 py-1 bg-yellow-100 text-yellow-700 text-xs rounded-full",children:"Pendente"})}),K.map((e=>{const t=_.find((s=>s.id===e));return s.jsx("td",{className:"p-4 text-center",children:"VALIDATED"===(null==t?void 0:t.status)?s.jsxs("span",{className:"inline-flex items-center px-2 py-1 bg-green-100 text-green-700 text-xs rounded-full",children:[s.jsx(a,{className:"h-3 w-3 mr-1"}),"Validado"]}):s.jsx("span",{className:"inline-flex items-center px-2 py-1 bg-yellow-100 text-yellow-700 text-xs rounded-full",children:"Pendente"})},e)}))]}),s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"p-4 font-medium sticky left-0 bg-white z-10",children:"CertificaÃ§Ãµes"}),s.jsxs("td",{className:"p-4 text-center",children:[(null==(N=null==P?void 0:P.certifications)?void 0:N.length)||0," certificaÃ§Ãµes"]}),K.map((e=>{var a;const t=_.find((s=>s.id===e));return s.jsxs("td",{className:"p-4 text-center",children:[(null==(a=null==t?void 0:t.certifications)?void 0:a.length)||0," certificaÃ§Ãµes"]},e)}))]}),s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"p-4 font-medium sticky left-0 bg-white z-10",children:"Sustentabilidade"}),s.jsx("td",{className:"p-4 text-center",children:(null==P?void 0:P.sustainabilityScore)?s.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[s.jsx(k,{className:"h-4 w-4 text-green-600"}),s.jsxs("span",{className:"font-semibold",children:[P.sustainabilityScore.overall,"/100"]})]}):s.jsx("span",{className:"text-gray-400",children:"-"})}),K.map((e=>{const a=_.find((s=>s.id===e));return s.jsx("td",{className:"p-4 text-center",children:(null==a?void 0:a.sustainabilityScore)?s.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[s.jsx(k,{className:"h-4 w-4 text-green-600"}),s.jsxs("span",{className:"font-semibold",children:[a.sustainabilityScore.overall,"/100"]})]}):s.jsx("span",{className:"text-gray-400",children:"-"})},e)}))]})]})]})})]})]})}),s.jsx("style",{children:"\n        @media print {\n          .print:hidden {\n            display: none !important;\n          }\n          .print:block {\n            display: block !important;\n          }\n          body {\n            print-color-adjust: exact;\n            -webkit-print-color-adjust: exact;\n          }\n        }\n      "})]})}export{_ as default};
