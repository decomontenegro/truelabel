import{j as e,d as s,E as t,C as a}from"./index-DeKtUJAc.js";import{r}from"./vendor-BDxjXY-2.js";import{C as n}from"./circle-x-DPkhpEGr.js";import"./charts-C38Ohhsz.js";function i(){const[i,l]=r.useState([]),[c,d]=r.useState([]),[m,o]=r.useState("operational"),[x,u]=r.useState(!0);r.useEffect((()=>{const e=async()=>{try{const e=[{name:"API",status:"operational",responseTime:45,uptime:99.98,lastChecked:new Date},{name:"Web Application",status:"operational",responseTime:120,uptime:99.99,lastChecked:new Date},{name:"Database",status:"operational",responseTime:12,uptime:99.95,lastChecked:new Date},{name:"QR Code Service",status:"operational",responseTime:85,uptime:99.97,lastChecked:new Date},{name:"AI Validation Engine",status:"operational",responseTime:230,uptime:99.9,lastChecked:new Date}];l(e);const s=e.some((e=>"down"===e.status)),t=e.some((e=>"degraded"===e.status));o(s?"down":t?"degraded":"operational"),u(!1)}catch(e){u(!1)}};e();const s=setInterval(e,3e4);return()=>clearInterval(s)}),[]);const h=r=>{switch(r){case"operational":return e.jsx(a,{className:"w-5 h-5 text-green-500","data-testid":"check-icon"});case"degraded":return e.jsx(t,{className:"w-5 h-5 text-yellow-500","data-testid":"alert-icon"});case"down":return e.jsx(n,{className:"w-5 h-5 text-red-500","data-testid":"x-icon"});case"maintenance":return e.jsx(s,{className:"w-5 h-5 text-blue-500","data-testid":"clock-icon"});default:return null}};return x?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",role:"status",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Checking system status..."})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Trust Label System Status"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Current status and incident history"})]}),e.jsx("div",{className:`rounded-lg p-6 mb-8 ${(e=>{switch(e){case"operational":return"text-green-600 bg-green-50";case"degraded":return"text-yellow-600 bg-yellow-50";case"down":return"text-red-600 bg-red-50";case"maintenance":return"text-blue-600 bg-blue-50";default:return""}})(m)}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[h(m),e.jsx("span",{className:"text-2xl font-semibold",children:(()=>{switch(m){case"operational":return"All Systems Operational";case"degraded":return"Partial System Outage";case"down":return"Major System Outage";default:return"Unknown Status"}})()})]}),e.jsxs("span",{className:"text-sm",children:["Last updated: ",(new Date).toLocaleTimeString()]})]})}),e.jsxs("div",{className:"bg-white rounded-lg shadow mb-8",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Services"})}),e.jsx("div",{className:"divide-y divide-gray-200",children:i.map((s=>e.jsx("div",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[h(s.status),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:s.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:[s.uptime,"% uptime"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[s.responseTime,"ms"]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Response time"})]})]})},s.name)))})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Incident History"})}),e.jsx("div",{className:"px-6 py-4",children:0===c.length?e.jsx("p",{className:"text-gray-500",children:"No recent incidents"}):e.jsx("div",{className:"space-y-4",children:c.map((s=>e.jsxs("div",{className:"border-l-4 border-gray-200 pl-4",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:s.title}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[s.status," - ",s.impact," impact"]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:s.updatedAt.toLocaleString()})]},s.id)))})})]}),e.jsxs("div",{className:"mt-8 text-center text-sm text-gray-500",children:[e.jsxs("p",{children:["Need to report an issue?"," ",e.jsx("a",{href:"/contact",className:"text-blue-600 hover:underline",children:"Contact Support"})]}),e.jsxs("p",{className:"mt-2",children:["Subscribe to updates via"," ",e.jsx("a",{href:"/api/status/subscribe",className:"text-blue-600 hover:underline",children:"RSS"})," or ",e.jsx("a",{href:"/api/status/webhook",className:"text-blue-600 hover:underline",children:"Webhook"})]})]})]})})}export{i as default};
