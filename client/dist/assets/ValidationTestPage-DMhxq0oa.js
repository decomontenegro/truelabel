import{j as e}from"./index-BwznawPq.js";import{i as s,r as a}from"./vendor-BDxjXY-2.js";import"./charts-C38Ohhsz.js";const d=()=>{var d,r,l,i,t,n,o;const{qrCode:c}=s(),[m,x]=a.useState(null),[h,u]=a.useState(!1),[j,p]=a.useState(null);return e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6",children:"üß™ Teste de Valida√ß√£o"}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"QR Code da URL"}),e.jsx("input",{type:"text",value:c||"",readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50"})]}),e.jsx("button",{onClick:async()=>{if(c)try{u(!0),p(null);const e=`http://localhost:3000/api/qr/validate/${c}`,s=await fetch(e);if(!s.ok){const e=await s.text();throw new Error(`HTTP ${s.status}: ${e}`)}const a=await s.json();x(a)}catch(e){p(e.message)}finally{u(!1)}else p("Nenhum QR Code fornecido")},disabled:h||!c,className:"w-full btn btn-primary mb-4",children:h?"‚è≥ Testando...":"üîÑ Testar Valida√ß√£o"}),j&&e.jsxs("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-md",children:[e.jsx("h3",{className:"font-medium text-red-800",children:"Erro:"}),e.jsx("p",{className:"text-red-700",children:j})]}),m&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"p-4 bg-green-50 border border-green-200 rounded-md",children:e.jsx("h3",{className:"font-medium text-green-800",children:"‚úÖ Valida√ß√£o Bem-sucedida"})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 bg-gray-50 rounded-md",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"üì¶ Produto"}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Nome:"})," ",null==(d=m.product)?void 0:d.name]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Marca:"})," ",null==(r=m.product)?void 0:r.brand]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Categoria:"})," ",null==(l=m.product)?void 0:l.category]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Claims:"})," ",null==(i=m.product)?void 0:i.claims]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Status:"})," ",null==(t=m.product)?void 0:t.status]})]})]}),e.jsxs("div",{className:"p-4 bg-gray-50 rounded-md",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"üî¨ Valida√ß√£o"}),m.validation?e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Status:"})," ",m.validation.status]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Laborat√≥rio:"})," ",null==(n=m.validation.laboratory)?void 0:n.name]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Acredita√ß√£o:"})," ",null==(o=m.validation.laboratory)?void 0:o.accreditation]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Resumo:"})," ",m.validation.summary]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Validado em:"})," ",new Date(m.validation.validatedAt).toLocaleString()]})]}):e.jsx("p",{className:"text-sm text-gray-500",children:"Nenhuma valida√ß√£o encontrada"})]})]}),e.jsxs("div",{className:"p-4 bg-blue-50 rounded-md",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"üè∑Ô∏è Flags"}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"√â Validado:"})," ",m.isValidated?"‚úÖ Sim":"‚ùå N√£o"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"√öltima Atualiza√ß√£o:"})," ",new Date(m.lastUpdated).toLocaleString()]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Acessado em:"})," ",new Date(m.accessedAt).toLocaleString()]})]})]}),e.jsxs("details",{className:"p-4 bg-gray-50 rounded-md",children:[e.jsx("summary",{className:"font-medium text-gray-900 cursor-pointer",children:"üìã Dados Raw (JSON)"}),e.jsx("pre",{className:"mt-2 text-xs bg-white p-2 rounded border overflow-auto",children:JSON.stringify(m,null,2)})]})]})]}),e.jsxs("div",{className:"mt-6 bg-gray-100 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"üìã Instru√ß√µes:"}),e.jsxs("ul",{className:"text-sm space-y-1",children:[e.jsx("li",{children:"‚Ä¢ Esta p√°gina testa a valida√ß√£o de QR codes"}),e.jsx("li",{children:"‚Ä¢ O QR code vem da URL: /test-validation/:qrCode"}),e.jsx("li",{children:'‚Ä¢ Clique em "Testar Valida√ß√£o" para fazer a chamada da API'}),e.jsx("li",{children:"‚Ä¢ Verifique o console do navegador para logs detalhados"}),e.jsx("li",{children:"‚Ä¢ Se funcionar aqui, o problema pode estar na p√°gina principal"})]})]})]})};export{d as default};
