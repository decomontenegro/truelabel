import{r}from"./vendor-BDxjXY-2.js";import{V as s,a5 as o}from"./index-BwznawPq.js";const e=(o,e={})=>{const[a,t]=r.useState({isLoading:!1,error:null,data:null}),{successMessage:l,errorMessage:u,onSuccess:c,onError:i,showSuccessToast:d=!0,showErrorToast:g=!0}=e;return{...a,execute:r.useCallback((async(...r)=>{t((r=>({...r,isLoading:!0,error:null})));try{const e=await o(...r);return t((r=>({...r,isLoading:!1,data:e,error:null}))),null==c||c(e),d&&l&&s.success(l),e}catch(e){const r=e instanceof Error?e:new Error(String(e));if(t((s=>({...s,isLoading:!1,error:r}))),null==i||i(r),g){const o=u||n(r);s.error(o)}return null}}),[o,l,u,c,i,d,g]),reset:r.useCallback((()=>{t({isLoading:!1,error:null,data:null})}),[])}},n=o;export{e as u};
