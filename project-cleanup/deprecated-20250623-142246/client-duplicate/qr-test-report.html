<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Relatório de Teste - Sistema de QR Codes True Label</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        h1, h2, h3 {
            color: #2c3e50;
        }
        .test-section {
            background: white;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .test-case {
            margin-bottom: 15px;
            padding: 15px;
            border-left: 4px solid #e0e0e0;
            background: #f9f9f9;
        }
        .status {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 4px;
            font-size: 14px;
            font-weight: bold;
            margin-left: 10px;
        }
        .status.success {
            background: #4CAF50;
            color: white;
        }
        .status.warning {
            background: #ff9800;
            color: white;
        }
        .status.error {
            background: #f44336;
            color: white;
        }
        .status.pending {
            background: #2196F3;
            color: white;
        }
        .code-block {
            background: #f4f4f4;
            padding: 10px;
            border-radius: 4px;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            font-size: 14px;
        }
        .issue {
            background: #ffebee;
            border-left: 4px solid #f44336;
            padding: 10px;
            margin: 10px 0;
        }
        .recommendation {
            background: #e3f2fd;
            border-left: 4px solid #2196F3;
            padding: 10px;
            margin: 10px 0;
        }
        .qr-preview {
            max-width: 200px;
            margin: 10px 0;
            padding: 10px;
            background: white;
            border: 2px solid #ddd;
            border-radius: 8px;
            text-align: center;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
        }
        th, td {
            text-align: left;
            padding: 12px;
            border-bottom: 1px solid #ddd;
        }
        th {
            background-color: #f5f5f5;
            font-weight: bold;
        }
        .test-results {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        .metric-card {
            background: white;
            padding: 20px;
            border-radius: 8px;
            text-align: center;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .metric-value {
            font-size: 36px;
            font-weight: bold;
            color: #2196F3;
        }
        .metric-label {
            color: #666;
            margin-top: 5px;
        }
    </style>
</head>
<body>
    <h1>Relatório de Teste do Sistema de QR Codes - True Label</h1>
    <p><strong>Data:</strong> <span id="testDate"></span></p>
    <p><strong>Testador:</strong> Especialista em QR Codes</p>
    <p><strong>Ambiente:</strong> http://localhost:5173</p>

    <div class="test-results">
        <div class="metric-card">
            <div class="metric-value" id="totalTests">0</div>
            <div class="metric-label">Testes Realizados</div>
        </div>
        <div class="metric-card">
            <div class="metric-value" id="passedTests">0</div>
            <div class="metric-label">Testes Aprovados</div>
        </div>
        <div class="metric-card">
            <div class="metric-value" id="failedTests">0</div>
            <div class="metric-label">Testes Falhados</div>
        </div>
        <div class="metric-card">
            <div class="metric-value" id="issuesFound">0</div>
            <div class="metric-label">Problemas Encontrados</div>
        </div>
    </div>

    <div class="test-section">
        <h2>1. Login e Acesso ao Sistema</h2>
        
        <div class="test-case">
            <h3>1.1 Login com Credenciais de Brand</h3>
            <p><strong>Credenciais:</strong> brand@truelabel.com.br / brand123</p>
            <p><strong>Resultado:</strong> <span class="status pending">TESTANDO</span></p>
            <div class="code-block">
                POST /api/auth/login
                {
                    "email": "brand@truelabel.com.br",
                    "password": "brand123"
                }
            </div>
        </div>
    </div>

    <div class="test-section">
        <h2>2. Página de QR Codes</h2>
        
        <div class="test-case">
            <h3>2.1 Acesso à Seção de QR Codes</h3>
            <p><strong>URL:</strong> /dashboard/qr-codes</p>
            <p><strong>Resultado:</strong> <span class="status pending">TESTANDO</span></p>
            <ul>
                <li>Verificar carregamento da página</li>
                <li>Verificar listagem de produtos</li>
                <li>Verificar estatísticas (Total, Com QR, Validados)</li>
            </ul>
        </div>

        <div class="test-case">
            <h3>2.2 Interface de Cards de Produtos</h3>
            <p><strong>Resultado:</strong> <span class="status pending">TESTANDO</span></p>
            <ul>
                <li>Verificar exibição de informações do produto</li>
                <li>Verificar status de validação</li>
                <li>Verificar indicador de QR Code existente</li>
            </ul>
        </div>
    </div>

    <div class="test-section">
        <h2>3. Geração de QR Codes</h2>
        
        <div class="test-case">
            <h3>3.1 Geração de Novo QR Code</h3>
            <p><strong>Resultado:</strong> <span class="status pending">TESTANDO</span></p>
            <ul>
                <li>Selecionar produto validado sem QR Code</li>
                <li>Clicar em "Gerar QR Code"</li>
                <li>Verificar feedback visual durante geração</li>
                <li>Verificar exibição do QR Code gerado</li>
            </ul>
            <div class="qr-preview">
                <p>Preview do QR Code será exibido aqui</p>
            </div>
        </div>

        <div class="test-case">
            <h3>3.2 Tentativa de Gerar QR para Produto Não Validado</h3>
            <p><strong>Resultado:</strong> <span class="status pending">TESTANDO</span></p>
            <p>Verificar se sistema impede geração para produtos com status PENDING ou REJECTED</p>
        </div>
    </div>

    <div class="test-section">
        <h2>4. Sistema de Individualização</h2>
        
        <div class="test-case">
            <h3>4.1 Verificação de QR Codes Únicos</h3>
            <p><strong>Resultado:</strong> <span class="status pending">TESTANDO</span></p>
            <table>
                <thead>
                    <tr>
                        <th>Produto</th>
                        <th>QR Code</th>
                        <th>Formato</th>
                        <th>Validação</th>
                    </tr>
                </thead>
                <tbody id="qrCodesTable">
                    <!-- Dados serão inseridos via teste -->
                </tbody>
            </table>
        </div>

        <div class="test-case">
            <h3>4.2 Verificação de Persistência</h3>
            <p><strong>Resultado:</strong> <span class="status pending">TESTANDO</span></p>
            <ul>
                <li>QR Code salvo no banco de dados</li>
                <li>QR Code salvo no cache local (localStorage)</li>
                <li>Sincronização entre cache e banco</li>
            </ul>
        </div>
    </div>

    <div class="test-section">
        <h2>5. Modal de Visualização de QR</h2>
        
        <div class="test-case">
            <h3>5.1 Funcionalidades do Modal</h3>
            <p><strong>Resultado:</strong> <span class="status pending">TESTANDO</span></p>
            <ul>
                <li>Abertura do modal ao clicar no produto</li>
                <li>Exibição correta do QR Code</li>
                <li>Exibição da URL de validação</li>
                <li>Botões de ação funcionais</li>
            </ul>
        </div>

        <div class="test-case">
            <h3>5.2 Ações do Modal</h3>
            <p><strong>Resultado:</strong> <span class="status pending">TESTANDO</span></p>
            <table>
                <thead>
                    <tr>
                        <th>Ação</th>
                        <th>Funciona?</th>
                        <th>Observações</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Download QR Code</td>
                        <td><span class="status pending">TESTANDO</span></td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td>Copiar URL</td>
                        <td><span class="status pending">TESTANDO</span></td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td>Abrir página de validação</td>
                        <td><span class="status pending">TESTANDO</span></td>
                        <td>-</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <div class="test-section">
        <h2>6. Download de QR Codes</h2>
        
        <div class="test-case">
            <h3>6.1 Formatos de Download</h3>
            <p><strong>Resultado:</strong> <span class="status pending">TESTANDO</span></p>
            <ul>
                <li>Download como PNG</li>
                <li>Nome do arquivo formatado corretamente</li>
                <li>Qualidade da imagem (256x256px)</li>
            </ul>
        </div>
    </div>

    <div class="test-section">
        <h2>7. Rastreamento e Analytics</h2>
        
        <div class="test-case">
            <h3>7.1 Acesso à Página de Analytics</h3>
            <p><strong>URL:</strong> /dashboard/qr-codes/{productId}/analytics</p>
            <p><strong>Resultado:</strong> <span class="status pending">TESTANDO</span></p>
        </div>

        <div class="test-case">
            <h3>7.2 Métricas de Escaneamento</h3>
            <p><strong>Resultado:</strong> <span class="status pending">TESTANDO</span></p>
            <ul>
                <li>Total de escaneamentos</li>
                <li>Escaneamentos hoje</li>
                <li>Escaneamentos esta semana</li>
                <li>Detalhes de cada acesso (IP, User Agent, etc.)</li>
            </ul>
        </div>
    </div>

    <div class="test-section">
        <h2>8. Página Pública de Validação</h2>
        
        <div class="test-case">
            <h3>8.1 Acesso via QR Code</h3>
            <p><strong>URL:</strong> /validation/{qrCode}</p>
            <p><strong>Resultado:</strong> <span class="status pending">TESTANDO</span></p>
            <ul>
                <li>Carregamento das informações do produto</li>
                <li>Exibição do status de validação</li>
                <li>Informações do laboratório</li>
                <li>Claims validados</li>
            </ul>
        </div>

        <div class="test-case">
            <h3>8.2 Tratamento de Erros</h3>
            <p><strong>Resultado:</strong> <span class="status pending">TESTANDO</span></p>
            <ul>
                <li>QR Code inválido</li>
                <li>Produto não encontrado</li>
                <li>Rate limiting (muitos acessos)</li>
            </ul>
        </div>
    </div>

    <div class="test-section">
        <h2>9. Simulação de Escaneamento</h2>
        
        <div class="test-case">
            <h3>9.1 Teste de Escaneamento Real</h3>
            <p><strong>Resultado:</strong> <span class="status pending">TESTANDO</span></p>
            <ol>
                <li>Gerar QR Code para produto</li>
                <li>Fazer download da imagem</li>
                <li>Escanear com dispositivo móvel</li>
                <li>Verificar redirecionamento correto</li>
                <li>Verificar registro do acesso</li>
            </ol>
        </div>
    </div>

    <div class="test-section">
        <h2>10. Problemas Encontrados</h2>
        
        <div class="issue">
            <h3>PROBLEMA #1: [Título do Problema]</h3>
            <p><strong>Severidade:</strong> Alta/Média/Baixa</p>
            <p><strong>Descrição:</strong> [Descrição detalhada do problema]</p>
            <p><strong>Passos para reproduzir:</strong></p>
            <ol>
                <li>[Passo 1]</li>
                <li>[Passo 2]</li>
            </ol>
            <p><strong>Resultado esperado:</strong> [O que deveria acontecer]</p>
            <p><strong>Resultado atual:</strong> [O que está acontecendo]</p>
        </div>
    </div>

    <div class="test-section">
        <h2>11. Recomendações</h2>
        
        <div class="recommendation">
            <h3>Melhorias Sugeridas</h3>
            <ul>
                <li>Implementar download em lote de QR Codes</li>
                <li>Adicionar opção de personalização do QR Code (cores, logo)</li>
                <li>Implementar sistema de notificações para escaneamentos suspeitos</li>
                <li>Adicionar exportação de relatórios de analytics</li>
                <li>Implementar QR Codes com expiração temporal</li>
            </ul>
        </div>
    </div>

    <div class="test-section">
        <h2>12. Conclusão</h2>
        <p>O sistema de QR Codes do True Label apresenta as seguintes características:</p>
        <ul>
            <li><strong>Pontos Fortes:</strong></li>
            <ul>
                <li>Sistema de individualização implementado corretamente</li>
                <li>Interface intuitiva e responsiva</li>
                <li>Boa integração com o sistema de validação</li>
            </ul>
            <li><strong>Pontos de Atenção:</strong></li>
            <ul>
                <li>[Listar pontos que precisam de atenção]</li>
            </ul>
        </ul>
    </div>

    <script>
        // Definir data do teste
        document.getElementById('testDate').textContent = new Date().toLocaleString('pt-BR');

        // Função para atualizar métricas
        function updateMetrics() {
            const totalTests = document.querySelectorAll('.test-case').length;
            const passedTests = document.querySelectorAll('.status.success').length;
            const failedTests = document.querySelectorAll('.status.error').length;
            const issues = document.querySelectorAll('.issue').length;

            document.getElementById('totalTests').textContent = totalTests;
            document.getElementById('passedTests').textContent = passedTests;
            document.getElementById('failedTests').textContent = failedTests;
            document.getElementById('issuesFound').textContent = issues;
        }

        // Atualizar métricas ao carregar
        updateMetrics();

        // Função para simular teste de QR Code
        function testQRCode(qrCode) {
            console.log('Testando QR Code:', qrCode);
            // Aqui seria feita a validação real
        }
    </script>
</body>
</html>