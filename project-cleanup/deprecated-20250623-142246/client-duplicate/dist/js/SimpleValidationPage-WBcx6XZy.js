import{r,j as e}from"./react-core-XCdXHkeW.js";import{d as a}from"./react-router-G9IXNjIc.js";import"./vendor-BcMaAnXF.js";import"./state-QrSTFgAv.js";import"./react-dom-BslC4xag.js";const o=()=>{var o,i,d,t;const{qrCode:l}=a(),[n,s]=r.useState("Carregando..."),[c,p]=r.useState(null);return r.useEffect((()=>{(async()=>{if(l)try{s("\ud83d\udd04 Fazendo chamada para API...");const r=await fetch(`http://localhost:3000/api/qr/validate/${l}`);if(s(`\ud83d\udce1 Resposta recebida: ${r.status}`),r.ok){const e=await r.json();p(e),s("\u2705 Dados carregados com sucesso!")}else s(`\u274c Erro: ${r.status} ${r.statusText}`)}catch(r){s(`\u274c Erro de rede: ${r.message}`)}else s("\u274c Nenhum QR Code fornecido")})()}),[l]),e.jsxs("div",{style:{padding:"20px",fontFamily:"Arial, sans-serif"},children:[e.jsx("h1",{children:"\ud83e\uddea Teste Simples de Valida\xe7\xe3o"}),e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("strong",{children:"QR Code:"})," ",l]}),e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("strong",{children:"Status:"})," ",n]}),c&&e.jsxs("div",{style:{backgroundColor:"#f0f0f0",padding:"15px",borderRadius:"5px"},children:[e.jsx("h3",{children:"\ud83d\udce6 Produto:"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Nome:"})," ",null==(o=c.product)?void 0:o.name]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Marca:"})," ",null==(i=c.product)?void 0:i.brand]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Status:"})," ",null==(d=c.product)?void 0:d.status]}),e.jsx("h3",{children:"\ud83d\udd2c Valida\xe7\xe3o:"}),e.jsxs("p",{children:[e.jsx("strong",{children:"\xc9 Validado:"})," ",c.isValidated?"\u2705 Sim":"\u274c N\xe3o"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Status:"})," ",null==(t=c.validation)?void 0:t.status]}),e.jsxs("details",{style:{marginTop:"10px"},children:[e.jsx("summary",{children:"Ver JSON completo"}),e.jsx("pre",{style:{backgroundColor:"white",padding:"10px",overflow:"auto"},children:JSON.stringify(c,null,2)})]})]}),e.jsxs("div",{style:{marginTop:"20px",fontSize:"12px",color:"#666"},children:[e.jsx("p",{children:"Esta \xe9 uma p\xe1gina de teste simplificada para verificar se a API est\xe1 funcionando."}),e.jsxs("p",{children:["URL testada: http://localhost:3000/api/qr/validate/",l]})]})]})};export{o as default};
